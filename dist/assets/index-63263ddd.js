var Rt=Object.defineProperty;var qt=(t,o,e)=>o in t?Rt(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var K=(t,o,e)=>(qt(t,typeof o!="symbol"?o+"":o,e),e);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const x of s)if(x.type==="childList")for(const d of x.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function e(s){const x={};return s.integrity&&(x.integrity=s.integrity),s.referrerpolicy&&(x.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?x.credentials="include":s.crossorigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function r(s){if(s.ep)return;s.ep=!0;const x=e(s);fetch(s.href,x)}})();class Tt{async download(o){const e=document.querySelector("#downloader");if(!e)return;const r=URL.createObjectURL(o);e.download=o.name,e.href=r,e.click(),URL.revokeObjectURL(r)}}const e0={Success:0,InvalidZipFile:1,InvalidFileIncluded:2,JSONFormatError:3,ProjectNotFound:4,InvalidFileProvider:5,InvalidAssetType:6,CompressionFailed:7};class l0 extends Error{constructor(e,r){super(r);K(this,"errorCode");this.errorCode=e,this.name=new.target.name,Object.setPrototypeOf(this,new.target.prototype)}}class F0{async loads(o){const e=o.filter(f=>!f.name.startsWith("__")&&!f.name.startsWith(".")),r=F0.findProjectFile(e),s=F0.findAssetFiles(e),x=await this.loadProject(r),d=await this.loadAssets(s);return{project:x,assets:d}}static createNewFile(o,e){return new File([JSON.stringify(o,null,"    ")],e)}toFiles(o){const{project:e,assets:r}=o,s=F0.createNewFile(e,`${e.name}.vott`);return r.map(d=>{const{id:f}=d.asset;return F0.createNewFile(d,`${f}-asset.json`)}).concat([s])}static findProjectFile(o){const e=o.find(r=>r.name.endsWith(".vott"));if(!e)throw new l0(e0.ProjectNotFound);return e}static findAssetFiles(o){return o.filter(e=>!e.name.endsWith(".vott"))}async loadProject(o){return this.loadFile(o)}async loadAssets(o){return Promise.all(o.map(async e=>this.loadFile(e)))}async loadFile(o){const e=await o.text().catch(()=>Promise.reject(new l0(e0.InvalidFileIncluded)));try{return JSON.parse(e)}catch{return Promise.reject(new l0(e0.JSONFormatError))}}}var le={},Dt=function(t,o,e,r,s){var x=new Worker(le[o]||(le[o]=URL.createObjectURL(new Blob([t+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return x.onmessage=function(d){var f=d.data,u=f.$e$;if(u){var n=new Error(u[0]);n.code=u[1],n.stack=u[2],s(n,null)}else s(null,f)},x.postMessage(e,r),x},X=Uint8Array,r0=Uint16Array,P0=Uint32Array,z0=new X([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R0=new X([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U0=new X([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),et=function(t,o){for(var e=new r0(31),r=0;r<31;++r)e[r]=o+=1<<t[r-1];for(var s=new P0(e[30]),r=1;r<30;++r)for(var x=e[r];x<e[r+1];++x)s[x]=x-e[r]<<5|r;return[e,s]},tt=et(z0,2),Gr=tt[0],Y0=tt[1];Gr[28]=258,Y0[258]=28;var nt=et(R0,0),at=nt[0],Nr=nt[1],N0=new r0(32768);for(var Z=0;Z<32768;++Z){var y0=(Z&43690)>>>1|(Z&21845)<<1;y0=(y0&52428)>>>2|(y0&13107)<<2,y0=(y0&61680)>>>4|(y0&3855)<<4,N0[Z]=((y0&65280)>>>8|(y0&255)<<8)>>>1}var o0=function(t,o,e){for(var r=t.length,s=0,x=new r0(o);s<r;++s)t[s]&&++x[t[s]-1];var d=new r0(o);for(s=0;s<o;++s)d[s]=d[s-1]+x[s-1]<<1;var f;if(e){f=new r0(1<<o);var u=15-o;for(s=0;s<r;++s)if(t[s])for(var n=s<<4|t[s],a=o-t[s],v=d[t[s]-1]++<<a,i=v|(1<<a)-1;v<=i;++v)f[N0[v]>>>u]=n}else for(f=new r0(r),s=0;s<r;++s)t[s]&&(f[s]=N0[d[t[s]-1]++]>>>15-t[s]);return f},h0=new X(288);for(var Z=0;Z<144;++Z)h0[Z]=8;for(var Z=144;Z<256;++Z)h0[Z]=9;for(var Z=256;Z<280;++Z)h0[Z]=7;for(var Z=280;Z<288;++Z)h0[Z]=8;var H0=new X(32);for(var Z=0;Z<32;++Z)H0[Z]=5;var ot=o0(h0,9,0),it=o0(h0,9,1),st=o0(H0,5,0),ft=o0(H0,5,1),Z0=function(t){for(var o=t[0],e=1;e<t.length;++e)t[e]>o&&(o=t[e]);return o},a0=function(t,o,e){var r=o/8|0;return(t[r]|t[r+1]<<8)>>(o&7)&e},G0=function(t,o){var e=o/8|0;return(t[e]|t[e+1]<<8|t[e+2]<<16)>>(o&7)},$0=function(t){return(t+7)/8|0},w0=function(t,o,e){(o==null||o<0)&&(o=0),(e==null||e>t.length)&&(e=t.length);var r=new(t.BYTES_PER_ELEMENT==2?r0:t.BYTES_PER_ELEMENT==4?P0:X)(e-o);return r.set(t.subarray(o,e)),r},xt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],V=function(t,o,e){var r=new Error(o||xt[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,V),!e)throw r;return r},ct=function(t,o,e){var r=t.length;if(!r||e&&e.f&&!e.l)return o||new X(0);var s=!o||e,x=!e||e.i;e||(e={}),o||(o=new X(r*3));var d=function(j){var G=o.length;if(j>G){var L=new X(Math.max(G*2,j));L.set(o),o=L}},f=e.f||0,u=e.p||0,n=e.b||0,a=e.l,v=e.d,i=e.m,c=e.n,l=r*8;do{if(!a){f=a0(t,u,1);var p=a0(t,u+1,3);if(u+=3,p)if(p==1)a=it,v=ft,i=9,c=5;else if(p==2){var y=a0(t,u,31)+257,_=a0(t,u+10,15)+4,m=y+a0(t,u+5,31)+1;u+=14;for(var C=new X(m),S=new X(19),b=0;b<_;++b)S[U0[b]]=a0(t,u+b*3,7);u+=_*3;for(var z=Z0(S),B=(1<<z)-1,k=o0(S,z,1),b=0;b<m;){var E=k[a0(t,u,B)];u+=E&15;var g=E>>>4;if(g<16)C[b++]=g;else{var A=0,q=0;for(g==16?(q=3+a0(t,u,3),u+=2,A=C[b-1]):g==17?(q=3+a0(t,u,7),u+=3):g==18&&(q=11+a0(t,u,127),u+=7);q--;)C[b++]=A}}var T=C.subarray(0,y),D=C.subarray(y);i=Z0(T),c=Z0(D),a=o0(T,i,1),v=o0(D,c,1)}else V(1);else{var g=$0(u)+4,w=t[g-4]|t[g-3]<<8,h=g+w;if(h>r){x&&V(0);break}s&&d(n+w),o.set(t.subarray(g,h),n),e.b=n+=w,e.p=u=h*8,e.f=f;continue}if(u>l){x&&V(0);break}}s&&d(n+131072);for(var W=(1<<i)-1,I=(1<<c)-1,U=u;;U=u){var A=a[G0(t,u)&W],N=A>>>4;if(u+=A&15,u>l){x&&V(0);break}if(A||V(2),N<256)o[n++]=N;else if(N==256){U=u,a=null;break}else{var F=N-254;if(N>264){var b=N-257,P=z0[b];F=a0(t,u,(1<<P)-1)+Gr[b],u+=P}var R=v[G0(t,u)&I],H=R>>>4;R||V(3),u+=R&15;var D=at[H];if(H>3){var P=R0[H];D+=G0(t,u)&(1<<P)-1,u+=P}if(u>l){x&&V(0);break}s&&d(n+131072);for(var O=n+F;n<O;n+=4)o[n]=o[n-D],o[n+1]=o[n+1-D],o[n+2]=o[n+2-D],o[n+3]=o[n+3-D];n=O}}e.l=a,e.p=U,e.b=n,e.f=f,a&&(f=1,e.m=i,e.d=v,e.n=c)}while(!f);return n==o.length?o:w0(o,0,n)},x0=function(t,o,e){e<<=o&7;var r=o/8|0;t[r]|=e,t[r+1]|=e>>>8},S0=function(t,o,e){e<<=o&7;var r=o/8|0;t[r]|=e,t[r+1]|=e>>>8,t[r+2]|=e>>>16},V0=function(t,o){for(var e=[],r=0;r<t.length;++r)t[r]&&e.push({s:r,f:t[r]});var s=e.length,x=e.slice();if(!s)return[Dr,0];if(s==1){var d=new X(e[0].s+1);return d[e[0].s]=1,[d,1]}e.sort(function(m,C){return m.f-C.f}),e.push({s:-1,f:25001});var f=e[0],u=e[1],n=0,a=1,v=2;for(e[0]={s:-1,f:f.f+u.f,l:f,r:u};a!=s-1;)f=e[e[n].f<e[v].f?n++:v++],u=e[n!=a&&e[n].f<e[v].f?n++:v++],e[a++]={s:-1,f:f.f+u.f,l:f,r:u};for(var i=x[0].s,r=1;r<s;++r)x[r].s>i&&(i=x[r].s);var c=new r0(i+1),l=Q0(e[a-1],c,0);if(l>o){var r=0,p=0,g=l-o,w=1<<g;for(x.sort(function(C,S){return c[S.s]-c[C.s]||C.f-S.f});r<s;++r){var h=x[r].s;if(c[h]>o)p+=w-(1<<l-c[h]),c[h]=o;else break}for(p>>>=g;p>0;){var y=x[r].s;c[y]<o?p-=1<<o-c[y]++-1:++r}for(;r>=0&&p;--r){var _=x[r].s;c[_]==o&&(--c[_],++p)}l=o}return[new X(c),l]},Q0=function(t,o,e){return t.s==-1?Math.max(Q0(t.l,o,e+1),Q0(t.r,o,e+1)):o[t.s]=e},$r=function(t){for(var o=t.length;o&&!t[--o];);for(var e=new r0(++o),r=0,s=t[0],x=1,d=function(u){e[r++]=u},f=1;f<=o;++f)if(t[f]==s&&f!=o)++x;else{if(!s&&x>2){for(;x>138;x-=138)d(32754);x>2&&(d(x>10?x-11<<5|28690:x-3<<5|12305),x=0)}else if(x>3){for(d(s),--x;x>6;x-=6)d(8304);x>2&&(d(x-3<<5|8208),x=0)}for(;x--;)d(s);x=1,s=t[f]}return[e.subarray(0,r),o]},E0=function(t,o){for(var e=0,r=0;r<o.length;++r)e+=t[r]*o[r];return e},J0=function(t,o,e){var r=e.length,s=$0(o+2);t[s]=r&255,t[s+1]=r>>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var x=0;x<r;++x)t[s+x+4]=e[x];return(s+4+r)*8},Mr=function(t,o,e,r,s,x,d,f,u,n,a){x0(o,a++,e),++s[256];for(var v=V0(s,15),i=v[0],c=v[1],l=V0(x,15),p=l[0],g=l[1],w=$r(i),h=w[0],y=w[1],_=$r(p),m=_[0],C=_[1],S=new r0(19),b=0;b<h.length;++b)S[h[b]&31]++;for(var b=0;b<m.length;++b)S[m[b]&31]++;for(var z=V0(S,7),B=z[0],k=z[1],E=19;E>4&&!B[U0[E-1]];--E);var A=n+5<<3,q=E0(s,h0)+E0(x,H0)+d,T=E0(s,i)+E0(x,p)+d+14+3*E+E0(S,B)+(2*S[16]+3*S[17]+7*S[18]);if(A<=q&&A<=T)return J0(o,a,t.subarray(u,u+n));var D,W,I,U;if(x0(o,a,1+(T<q)),a+=2,T<q){D=o0(i,c,0),W=i,I=o0(p,g,0),U=p;var N=o0(B,k,0);x0(o,a,y-257),x0(o,a+5,C-1),x0(o,a+10,E-4),a+=14;for(var b=0;b<E;++b)x0(o,a+3*b,B[U0[b]]);a+=3*E;for(var F=[h,m],P=0;P<2;++P)for(var R=F[P],b=0;b<R.length;++b){var H=R[b]&31;x0(o,a,N[H]),a+=B[H],H>15&&(x0(o,a,R[b]>>>5&127),a+=R[b]>>>12)}}else D=ot,W=h0,I=st,U=H0;for(var b=0;b<f;++b)if(r[b]>255){var H=r[b]>>>18&31;S0(o,a,D[H+257]),a+=W[H+257],H>7&&(x0(o,a,r[b]>>>23&31),a+=z0[H]);var O=r[b]&31;S0(o,a,I[O]),a+=U[O],O>3&&(S0(o,a,r[b]>>>5&8191),a+=R0[O])}else S0(o,a,D[r[b]]),a+=W[r[b]];return S0(o,a,D[256]),a+W[256]},vt=new P0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Dr=new X(0),ut=function(t,o,e,r,s,x){var d=t.length,f=new X(r+d+5*(1+Math.ceil(d/7e3))+s),u=f.subarray(r,f.length-s),n=0;if(!o||d<8)for(var a=0;a<=d;a+=65535){var v=a+65535;v>=d&&(u[n>>3]=x),n=J0(u,n+1,t.subarray(a,v))}else{for(var i=vt[o-1],c=i>>>13,l=i&8191,p=(1<<e)-1,g=new r0(32768),w=new r0(p+1),h=Math.ceil(e/3),y=2*h,_=function(Y){return(t[Y]^t[Y+1]<<h^t[Y+2]<<y)&p},m=new P0(25e3),C=new r0(288),S=new r0(32),b=0,z=0,a=0,B=0,k=0,E=0;a<d;++a){var A=_(a),q=a&32767,T=w[A];if(g[q]=T,w[A]=q,k<=a){var D=d-a;if((b>7e3||B>24576)&&D>423){n=Mr(t,u,0,m,C,S,z,B,E,a-E,n),B=b=z=0,E=a;for(var W=0;W<286;++W)C[W]=0;for(var W=0;W<30;++W)S[W]=0}var I=2,U=0,N=l,F=q-T&32767;if(D>2&&A==_(a-F))for(var P=Math.min(c,D)-1,R=Math.min(32767,a),H=Math.min(258,D);F<=R&&--N&&q!=T;){if(t[a+I]==t[a+I-F]){for(var O=0;O<H&&t[a+O]==t[a+O-F];++O);if(O>I){if(I=O,U=F,O>P)break;for(var j=Math.min(F,O-2),G=0,W=0;W<j;++W){var L=a-F+W+32768&32767,_0=g[L],u0=L-_0+32768&32767;u0>G&&(G=u0,T=L)}}}q=T,T=g[q],F+=q-T+32768&32767}if(U){m[B++]=268435456|Y0[I]<<18|Nr[U];var C0=Y0[I]&31,d0=Nr[U]&31;z+=z0[C0]+R0[d0],++C[257+C0],++S[d0],k=a+I,++b}else m[B++]=t[a],++C[t[a]]}}n=Mr(t,u,x,m,C,S,z,B,E,a-E,n),!x&&n&7&&(n=J0(u,n+1,Dr))}return w0(f,0,r+$0(n)+s)},Wt=function(){for(var t=new Int32Array(256),o=0;o<256;++o){for(var e=o,r=9;--r;)e=(e&1&&-306674912)^e>>>1;t[o]=e}return t}(),Lt=function(){var t=-1;return{p:function(o){for(var e=t,r=0;r<o.length;++r)e=Wt[e&255^o[r]]^e>>>8;t=e},d:function(){return~t}}},lt=function(t,o,e,r,s){return ut(t,o.level==null?6:o.level,o.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+o.mem,e,r,!s)},Vr=function(t,o){var e={};for(var r in t)e[r]=t[r];for(var r in o)e[r]=o[r];return e},he=function(t,o,e){for(var r=t(),s=t.toString(),x=s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).replace(/\s+/g,"").split(","),d=0;d<r.length;++d){var f=r[d],u=x[d];if(typeof f=="function"){o+=";"+u+"=";var n=f.toString();if(f.prototype)if(n.indexOf("[native code]")!=-1){var a=n.indexOf(" ",8)+1;o+=n.slice(a,n.indexOf("(",a))}else{o+=n;for(var v in f.prototype)o+=";"+u+".prototype."+v+"="+f.prototype[v].toString()}else o+=n}else e[u]=f}return[o,e]},X0=[],It=function(t){var o=[];for(var e in t)t[e].buffer&&o.push((t[e]=new t[e].constructor(t[e])).buffer);return o},Ot=function(t,o,e,r){var s;if(!X0[e]){for(var x="",d={},f=t.length-1,u=0;u<f;++u)s=he(t[u],x,d),x=s[0],d=s[1];X0[e]=he(t[f],x,d)}var n=Vr({},X0[e][1]);return Dt(X0[e][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+o.toString()+"}",e,n,It(n),r)},Ut=function(){return[X,r0,P0,z0,R0,U0,Gr,at,it,ft,N0,xt,o0,Z0,a0,G0,$0,w0,V,ct,Qr,Wr,ht]},Nt=function(){return[X,r0,P0,z0,R0,U0,Y0,Nr,ot,h0,st,H0,N0,vt,Dr,o0,x0,S0,V0,Q0,$r,E0,J0,Mr,$0,w0,ut,lt,Yr,Wr]},Wr=function(t){return postMessage(t,[t.buffer])},ht=function(t){return t&&t.size&&new X(t.size)},dt=function(t,o,e,r,s,x){var d=Ot(e,r,s,function(f,u){d.terminate(),x(f,u)});return d.postMessage([t,o],o.consume?[t.buffer]:[]),function(){d.terminate()}},c0=function(t,o){return t[o]|t[o+1]<<8},f0=function(t,o){return(t[o]|t[o+1]<<8|t[o+2]<<16|t[o+3]<<24)>>>0},Or=function(t,o){return f0(t,o)+f0(t,o+4)*4294967296},Q=function(t,o,e){for(;e;++o)t[o]=e,e>>>=8};function $t(t,o,e){return e||(e=o,o={}),typeof e!="function"&&V(7),dt(t,o,[Nt],function(r){return Wr(Yr(r.data[0],r.data[1]))},0,e)}function Yr(t,o){return lt(t,o||{},0,0)}function Mt(t,o,e){return e||(e=o,o={}),typeof e!="function"&&V(7),dt(t,o,[Ut],function(r){return Wr(Qr(r.data[0],ht(r.data[1])))},1,e)}function Qr(t,o){return ct(t,o)}var pt=function(t,o,e,r){for(var s in t){var x=t[s],d=o+s,f=r;Array.isArray(x)&&(f=Vr(r,x[1]),x=x[0]),x instanceof X?e[d]=[x,f]:(e[d+="/"]=[new X(0),f],pt(x,d,e,r))}},de=typeof TextEncoder<"u"&&new TextEncoder,jr=typeof TextDecoder<"u"&&new TextDecoder,jt=0;try{jr.decode(Dr,{stream:!0}),jt=1}catch{}var Kt=function(t){for(var o="",e=0;;){var r=t[e++],s=(r>127)+(r>223)+(r>239);if(e+s>t.length)return[o,w0(t,e-1)];s?s==3?(r=((r&15)<<18|(t[e++]&63)<<12|(t[e++]&63)<<6|t[e++]&63)-65536,o+=String.fromCharCode(55296|r>>10,56320|r&1023)):s&1?o+=String.fromCharCode((r&31)<<6|t[e++]&63):o+=String.fromCharCode((r&15)<<12|(t[e++]&63)<<6|t[e++]&63):o+=String.fromCharCode(r)}};function pe(t,o){if(o){for(var e=new X(t.length),r=0;r<t.length;++r)e[r]=t.charCodeAt(r);return e}if(de)return de.encode(t);for(var s=t.length,x=new X(t.length+(t.length>>1)),d=0,f=function(a){x[d++]=a},r=0;r<s;++r){if(d+5>x.length){var u=new X(d+8+(s-r<<1));u.set(x),x=u}var n=t.charCodeAt(r);n<128||o?f(n):n<2048?(f(192|n>>6),f(128|n&63)):n>55295&&n<57344?(n=65536+(n&1023<<10)|t.charCodeAt(++r)&1023,f(240|n>>18),f(128|n>>12&63),f(128|n>>6&63),f(128|n&63)):(f(224|n>>12),f(128|n>>6&63),f(128|n&63))}return w0(x,0,d)}function Xt(t,o){if(o){for(var e="",r=0;r<t.length;r+=16384)e+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return e}else{if(jr)return jr.decode(t);var s=Kt(t),x=s[0],d=s[1];return d.length&&V(8),x}}var Zt=function(t,o){return o+30+c0(t,o+26)+c0(t,o+28)},Gt=function(t,o,e){var r=c0(t,o+28),s=Xt(t.subarray(o+46,o+46+r),!(c0(t,o+8)&2048)),x=o+46+r,d=f0(t,o+20),f=e&&d==4294967295?Vt(t,x):[d,f0(t,o+24),f0(t,o+42)],u=f[0],n=f[1],a=f[2];return[c0(t,o+10),u,n,s,x+c0(t,o+30)+c0(t,o+32),a]},Vt=function(t,o){for(;c0(t,o)!=1;o+=4+c0(t,o+2));return[Or(t,o+12),Or(t,o+4),Or(t,o+20)]},Kr=function(t){var o=0;if(t)for(var e in t){var r=t[e].length;r>65535&&V(9),o+=r+4}return o},ge=function(t,o,e,r,s,x,d,f){var u=r.length,n=e.extra,a=f&&f.length,v=Kr(n);Q(t,o,d!=null?33639248:67324752),o+=4,d!=null&&(t[o++]=20,t[o++]=e.os),t[o]=20,o+=2,t[o++]=e.flag<<1|(x<0&&8),t[o++]=s&&8,t[o++]=e.compression&255,t[o++]=e.compression>>8;var i=new Date(e.mtime==null?Date.now():e.mtime),c=i.getFullYear()-1980;if((c<0||c>119)&&V(10),Q(t,o,c<<25|i.getMonth()+1<<21|i.getDate()<<16|i.getHours()<<11|i.getMinutes()<<5|i.getSeconds()>>>1),o+=4,x!=-1&&(Q(t,o,e.crc),Q(t,o+4,x<0?-x-2:x),Q(t,o+8,e.size)),Q(t,o+12,u),Q(t,o+14,v),o+=16,d!=null&&(Q(t,o,a),Q(t,o+6,e.attrs),Q(t,o+10,d),o+=14),t.set(r,o),o+=u,v)for(var l in n){var p=n[l],g=p.length;Q(t,o,+l),Q(t,o+2,g),t.set(p,o+4),o+=4+g}return a&&(t.set(f,o),o+=a),o},Yt=function(t,o,e,r,s){Q(t,o,101010256),Q(t,o+8,e),Q(t,o+10,e),Q(t,o+12,r),Q(t,o+16,s)};function Qt(t,o,e){e||(e=o,o={}),typeof e!="function"&&V(7);var r={};pt(t,"",r,o);var s=Object.keys(r),x=s.length,d=0,f=0,u=x,n=new Array(x),a=[],v=function(){for(var g=0;g<a.length;++g)a[g]()},i=function(g,w){rr(function(){e(g,w)})};rr(function(){i=e});var c=function(){var g=new X(f+22),w=d,h=f-d;f=0;for(var y=0;y<u;++y){var _=n[y];try{var m=_.c.length;ge(g,f,_,_.f,_.u,m);var C=30+_.f.length+Kr(_.extra),S=f+C;g.set(_.c,S),ge(g,d,_,_.f,_.u,m,f,_.m),d+=16+C+(_.m?_.m.length:0),f=S+m}catch(b){return i(b,null)}}Yt(g,d,n.length,h,w),i(null,g)};x||c();for(var l=function(g){var w=s[g],h=r[w],y=h[0],_=h[1],m=Lt(),C=y.length;m.p(y);var S=pe(w),b=S.length,z=_.comment,B=z&&pe(z),k=B&&B.length,E=Kr(_.extra),A=_.level==0?0:8,q=function(T,D){if(T)v(),i(T,null);else{var W=D.length;n[g]=Vr(_,{size:C,crc:m.d(),c:D,f:S,m:B,u:b!=w.length||B&&z.length!=k,compression:A}),d+=30+b+E+W,f+=76+2*(b+E)+(k||0)+W,--x||c()}};if(b>65535&&q(V(11,0,1),null),!A)q(null,y);else if(C<16e4)try{q(null,Yr(y,_))}catch(T){q(T,null)}else a.push($t(y,_,q))},p=0;p<u;++p)l(p);return v}var rr=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(t){t()};function Jt(t,o,e){e||(e=o,o={}),typeof e!="function"&&V(7);var r=[],s=function(){for(var g=0;g<r.length;++g)r[g]()},x={},d=function(g,w){rr(function(){e(g,w)})};rr(function(){d=e});for(var f=t.length-22;f0(t,f)!=101010256;--f)if(!f||t.length-f>65558)return d(V(13,0,1),null),s;var u=c0(t,f+8);if(u){var n=u,a=f0(t,f+16),v=a==4294967295||n==65535;if(v){var i=f0(t,f-12);v=f0(t,i)==101075792,v&&(n=u=f0(t,i+32),a=f0(t,i+48))}for(var c=o&&o.filter,l=function(g){var w=Gt(t,a,v),h=w[0],y=w[1],_=w[2],m=w[3],C=w[4],S=w[5],b=Zt(t,S);a=C;var z=function(k,E){k?(s(),d(k,null)):(E&&(x[m]=E),--u||d(null,x))};if(!c||c({name:m,size:y,originalSize:_,compression:h}))if(!h)z(null,w0(t,b,b+y));else if(h==8){var B=t.subarray(b,b+y);if(y<32e4)try{z(null,Qr(B,new X(_)))}catch(k){z(k,null)}else r.push(Mt(B,{size:_},z))}else z(V(14,"unknown compression type "+h,1),null);else z(null,null)},p=0;p<n;++p)l(p)}else d(null,{});return s}class rn{async compress(o,e){try{const r={},s=o.map(async d=>{const f=await d.arrayBuffer();r[d.name]=new Uint8Array(f)});await Promise.all(s);const x=await new Promise((d,f)=>{Qt(r,{level:9},(u,n)=>{u&&f(u),d(n)})});return new File([x],e)}catch(r){return Promise.reject(new Error(`compress failed: ${r}`))}}async uncompress(o){try{const e=await o.arrayBuffer();return await new Promise((r,s)=>{Jt(new Uint8Array(e),{},(x,d)=>{x&&s(x);const f=Object.entries(d).map(async([u,n])=>new File([n],u));r(Promise.all(f))})})}catch(e){return Promise.reject(new Error(`uncompress failed: ${e}`))}}}var $=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function en(t){if(t.__esModule)return t;var o=t.default;if(typeof o=="function"){var e=function r(){if(this instanceof r){var s=[null];s.push.apply(s,arguments);var x=Function.bind.apply(o,s);return new x}return o.apply(this,arguments)};e.prototype=o.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),e}var er={},tn={get exports(){return er},set exports(t){er=t}},Xr={},nn={get exports(){return Xr},set exports(t){Xr=t}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(e,r){return e<<r|e>>>32-r},rotr:function(e,r){return e<<32-r|e>>>r},endian:function(e){if(e.constructor==Number)return o.rotl(e,8)&16711935|o.rotl(e,24)&4278255360;for(var r=0;r<e.length;r++)e[r]=o.endian(e[r]);return e},randomBytes:function(e){for(var r=[];e>0;e--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(e){for(var r=[],s=0,x=0;s<e.length;s++,x+=8)r[x>>>5]|=e[s]<<24-x%32;return r},wordsToBytes:function(e){for(var r=[],s=0;s<e.length*32;s+=8)r.push(e[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(e){for(var r=[],s=0;s<e.length;s++)r.push((e[s]>>>4).toString(16)),r.push((e[s]&15).toString(16));return r.join("")},hexToBytes:function(e){for(var r=[],s=0;s<e.length;s+=2)r.push(parseInt(e.substr(s,2),16));return r},bytesToBase64:function(e){for(var r=[],s=0;s<e.length;s+=3)for(var x=e[s]<<16|e[s+1]<<8|e[s+2],d=0;d<4;d++)s*8+d*6<=e.length*8?r.push(t.charAt(x>>>6*(3-d)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,x=0;s<e.length;x=++s%4)x!=0&&r.push((t.indexOf(e.charAt(s-1))&Math.pow(2,-2*x+8)-1)<<x*2|t.indexOf(e.charAt(s))>>>6-x*2);return r}};nn.exports=o})();var Zr={utf8:{stringToBytes:function(t){return Zr.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(Zr.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var o=[],e=0;e<t.length;e++)o.push(t.charCodeAt(e)&255);return o},bytesToString:function(t){for(var o=[],e=0;e<t.length;e++)o.push(String.fromCharCode(t[e]));return o.join("")}}},ye=Zr;var an=function(t){return t!=null&&(gt(t)||on(t)||!!t._isBuffer)};function gt(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function on(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&gt(t.slice(0,0))}(function(){var t=Xr,o=ye.utf8,e=an,r=ye.bin,s=function(x,d){x.constructor==String?d&&d.encoding==="binary"?x=r.stringToBytes(x):x=o.stringToBytes(x):e(x)?x=Array.prototype.slice.call(x,0):!Array.isArray(x)&&x.constructor!==Uint8Array&&(x=x.toString());for(var f=t.bytesToWords(x),u=x.length*8,n=1732584193,a=-271733879,v=-1732584194,i=271733878,c=0;c<f.length;c++)f[c]=(f[c]<<8|f[c]>>>24)&16711935|(f[c]<<24|f[c]>>>8)&4278255360;f[u>>>5]|=128<<u%32,f[(u+64>>>9<<4)+14]=u;for(var l=s._ff,p=s._gg,g=s._hh,w=s._ii,c=0;c<f.length;c+=16){var h=n,y=a,_=v,m=i;n=l(n,a,v,i,f[c+0],7,-680876936),i=l(i,n,a,v,f[c+1],12,-389564586),v=l(v,i,n,a,f[c+2],17,606105819),a=l(a,v,i,n,f[c+3],22,-1044525330),n=l(n,a,v,i,f[c+4],7,-176418897),i=l(i,n,a,v,f[c+5],12,1200080426),v=l(v,i,n,a,f[c+6],17,-1473231341),a=l(a,v,i,n,f[c+7],22,-45705983),n=l(n,a,v,i,f[c+8],7,1770035416),i=l(i,n,a,v,f[c+9],12,-1958414417),v=l(v,i,n,a,f[c+10],17,-42063),a=l(a,v,i,n,f[c+11],22,-1990404162),n=l(n,a,v,i,f[c+12],7,1804603682),i=l(i,n,a,v,f[c+13],12,-40341101),v=l(v,i,n,a,f[c+14],17,-1502002290),a=l(a,v,i,n,f[c+15],22,1236535329),n=p(n,a,v,i,f[c+1],5,-165796510),i=p(i,n,a,v,f[c+6],9,-1069501632),v=p(v,i,n,a,f[c+11],14,643717713),a=p(a,v,i,n,f[c+0],20,-373897302),n=p(n,a,v,i,f[c+5],5,-701558691),i=p(i,n,a,v,f[c+10],9,38016083),v=p(v,i,n,a,f[c+15],14,-660478335),a=p(a,v,i,n,f[c+4],20,-405537848),n=p(n,a,v,i,f[c+9],5,568446438),i=p(i,n,a,v,f[c+14],9,-1019803690),v=p(v,i,n,a,f[c+3],14,-187363961),a=p(a,v,i,n,f[c+8],20,1163531501),n=p(n,a,v,i,f[c+13],5,-1444681467),i=p(i,n,a,v,f[c+2],9,-51403784),v=p(v,i,n,a,f[c+7],14,1735328473),a=p(a,v,i,n,f[c+12],20,-1926607734),n=g(n,a,v,i,f[c+5],4,-378558),i=g(i,n,a,v,f[c+8],11,-2022574463),v=g(v,i,n,a,f[c+11],16,1839030562),a=g(a,v,i,n,f[c+14],23,-35309556),n=g(n,a,v,i,f[c+1],4,-1530992060),i=g(i,n,a,v,f[c+4],11,1272893353),v=g(v,i,n,a,f[c+7],16,-155497632),a=g(a,v,i,n,f[c+10],23,-1094730640),n=g(n,a,v,i,f[c+13],4,681279174),i=g(i,n,a,v,f[c+0],11,-358537222),v=g(v,i,n,a,f[c+3],16,-722521979),a=g(a,v,i,n,f[c+6],23,76029189),n=g(n,a,v,i,f[c+9],4,-640364487),i=g(i,n,a,v,f[c+12],11,-421815835),v=g(v,i,n,a,f[c+15],16,530742520),a=g(a,v,i,n,f[c+2],23,-995338651),n=w(n,a,v,i,f[c+0],6,-198630844),i=w(i,n,a,v,f[c+7],10,1126891415),v=w(v,i,n,a,f[c+14],15,-1416354905),a=w(a,v,i,n,f[c+5],21,-57434055),n=w(n,a,v,i,f[c+12],6,1700485571),i=w(i,n,a,v,f[c+3],10,-1894986606),v=w(v,i,n,a,f[c+10],15,-1051523),a=w(a,v,i,n,f[c+1],21,-2054922799),n=w(n,a,v,i,f[c+8],6,1873313359),i=w(i,n,a,v,f[c+15],10,-30611744),v=w(v,i,n,a,f[c+6],15,-1560198380),a=w(a,v,i,n,f[c+13],21,1309151649),n=w(n,a,v,i,f[c+4],6,-145523070),i=w(i,n,a,v,f[c+11],10,-1120210379),v=w(v,i,n,a,f[c+2],15,718787259),a=w(a,v,i,n,f[c+9],21,-343485551),n=n+h>>>0,a=a+y>>>0,v=v+_>>>0,i=i+m>>>0}return t.endian([n,a,v,i])};s._ff=function(x,d,f,u,n,a,v){var i=x+(d&f|~d&u)+(n>>>0)+v;return(i<<a|i>>>32-a)+d},s._gg=function(x,d,f,u,n,a,v){var i=x+(d&u|f&~u)+(n>>>0)+v;return(i<<a|i>>>32-a)+d},s._hh=function(x,d,f,u,n,a,v){var i=x+(d^f^u)+(n>>>0)+v;return(i<<a|i>>>32-a)+d},s._ii=function(x,d,f,u,n,a,v){var i=x+(f^(d|~u))+(n>>>0)+v;return(i<<a|i>>>32-a)+d},s._blocksize=16,s._digestsize=16,tn.exports=function(x,d){if(x==null)throw new Error("Illegal argument "+x);var f=t.wordsToBytes(s(x,d));return d&&d.asBytes?f:d&&d.asString?r.bytesToString(f):t.bytesToHex(f)}})();var B0={},sn={get exports(){return B0},set exports(t){B0=t}};function fn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tr={},xn={get exports(){return tr},set exports(t){tr=t}};const cn={},vn=Object.freeze(Object.defineProperty({__proto__:null,default:cn},Symbol.toStringTag,{value:"Module"})),un=en(vn);var _e;function M(){return _e||(_e=1,function(t,o){(function(e,r){t.exports=r()})($,function(){var e=e||function(r,s){var x;if(typeof window<"u"&&window.crypto&&(x=window.crypto),typeof self<"u"&&self.crypto&&(x=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(x=globalThis.crypto),!x&&typeof window<"u"&&window.msCrypto&&(x=window.msCrypto),!x&&typeof $<"u"&&$.crypto&&(x=$.crypto),!x&&typeof fn=="function")try{x=un}catch{}var d=function(){if(x){if(typeof x.getRandomValues=="function")try{return x.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof x.randomBytes=="function")try{return x.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},f=Object.create||function(){function h(){}return function(y){var _;return h.prototype=y,_=new h,h.prototype=null,_}}(),u={},n=u.lib={},a=n.Base=function(){return{extend:function(h){var y=f(this);return h&&y.mixIn(h),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var y in h)h.hasOwnProperty(y)&&(this[y]=h[y]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),v=n.WordArray=a.extend({init:function(h,y){h=this.words=h||[],y!=s?this.sigBytes=y:this.sigBytes=h.length*4},toString:function(h){return(h||c).stringify(this)},concat:function(h){var y=this.words,_=h.words,m=this.sigBytes,C=h.sigBytes;if(this.clamp(),m%4)for(var S=0;S<C;S++){var b=_[S>>>2]>>>24-S%4*8&255;y[m+S>>>2]|=b<<24-(m+S)%4*8}else for(var z=0;z<C;z+=4)y[m+z>>>2]=_[z>>>2];return this.sigBytes+=C,this},clamp:function(){var h=this.words,y=this.sigBytes;h[y>>>2]&=4294967295<<32-y%4*8,h.length=r.ceil(y/4)},clone:function(){var h=a.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var y=[],_=0;_<h;_+=4)y.push(d());return new v.init(y,h)}}),i=u.enc={},c=i.Hex={stringify:function(h){for(var y=h.words,_=h.sigBytes,m=[],C=0;C<_;C++){var S=y[C>>>2]>>>24-C%4*8&255;m.push((S>>>4).toString(16)),m.push((S&15).toString(16))}return m.join("")},parse:function(h){for(var y=h.length,_=[],m=0;m<y;m+=2)_[m>>>3]|=parseInt(h.substr(m,2),16)<<24-m%8*4;return new v.init(_,y/2)}},l=i.Latin1={stringify:function(h){for(var y=h.words,_=h.sigBytes,m=[],C=0;C<_;C++){var S=y[C>>>2]>>>24-C%4*8&255;m.push(String.fromCharCode(S))}return m.join("")},parse:function(h){for(var y=h.length,_=[],m=0;m<y;m++)_[m>>>2]|=(h.charCodeAt(m)&255)<<24-m%4*8;return new v.init(_,y)}},p=i.Utf8={stringify:function(h){try{return decodeURIComponent(escape(l.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return l.parse(unescape(encodeURIComponent(h)))}},g=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=p.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var y,_=this._data,m=_.words,C=_.sigBytes,S=this.blockSize,b=S*4,z=C/b;h?z=r.ceil(z):z=r.max((z|0)-this._minBufferSize,0);var B=z*S,k=r.min(B*4,C);if(B){for(var E=0;E<B;E+=S)this._doProcessBlock(m,E);y=m.splice(0,B),_.sigBytes-=k}return new v.init(y,k)},clone:function(){var h=a.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});n.Hasher=g.extend({cfg:a.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(h){return function(y,_){return new h.init(_).finalize(y)}},_createHmacHelper:function(h){return function(y,_){return new w.HMAC.init(h,_).finalize(y)}}});var w=u.algo={};return u}(Math);return e})}(xn)),tr}var nr={},ln={get exports(){return nr},set exports(t){nr=t}},Be;function Lr(){return Be||(Be=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(r){var s=e,x=s.lib,d=x.Base,f=x.WordArray,u=s.x64={};u.Word=d.extend({init:function(n,a){this.high=n,this.low=a}}),u.WordArray=d.extend({init:function(n,a){n=this.words=n||[],a!=r?this.sigBytes=a:this.sigBytes=n.length*8},toX32:function(){for(var n=this.words,a=n.length,v=[],i=0;i<a;i++){var c=n[i];v.push(c.high),v.push(c.low)}return f.create(v,this.sigBytes)},clone:function(){for(var n=d.clone.call(this),a=n.words=this.words.slice(0),v=a.length,i=0;i<v;i++)a[i]=a[i].clone();return n}})}(),e})}(ln)),nr}var ar={},hn={get exports(){return ar},set exports(t){ar=t}},we;function dn(){return we||(we=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(){if(typeof ArrayBuffer=="function"){var r=e,s=r.lib,x=s.WordArray,d=x.init,f=x.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var n=u.byteLength,a=[],v=0;v<n;v++)a[v>>>2]|=u[v]<<24-v%4*8;d.call(this,a,n)}else d.apply(this,arguments)};f.prototype=x}}(),e.lib.WordArray})}(hn)),ar}var or={},pn={get exports(){return or},set exports(t){or=t}},be;function gn(){return be||(be=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=r.enc;d.Utf16=d.Utf16BE={stringify:function(u){for(var n=u.words,a=u.sigBytes,v=[],i=0;i<a;i+=2){var c=n[i>>>2]>>>16-i%4*8&65535;v.push(String.fromCharCode(c))}return v.join("")},parse:function(u){for(var n=u.length,a=[],v=0;v<n;v++)a[v>>>1]|=u.charCodeAt(v)<<16-v%2*16;return x.create(a,n*2)}},d.Utf16LE={stringify:function(u){for(var n=u.words,a=u.sigBytes,v=[],i=0;i<a;i+=2){var c=f(n[i>>>2]>>>16-i%4*8&65535);v.push(String.fromCharCode(c))}return v.join("")},parse:function(u){for(var n=u.length,a=[],v=0;v<n;v++)a[v>>>1]|=f(u.charCodeAt(v)<<16-v%2*16);return x.create(a,n*2)}};function f(u){return u<<8&4278255360|u>>>8&16711935}}(),e.enc.Utf16})}(pn)),or}var ir={},yn={get exports(){return ir},set exports(t){ir=t}},Ce;function q0(){return Ce||(Ce=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=r.enc;d.Base64={stringify:function(u){var n=u.words,a=u.sigBytes,v=this._map;u.clamp();for(var i=[],c=0;c<a;c+=3)for(var l=n[c>>>2]>>>24-c%4*8&255,p=n[c+1>>>2]>>>24-(c+1)%4*8&255,g=n[c+2>>>2]>>>24-(c+2)%4*8&255,w=l<<16|p<<8|g,h=0;h<4&&c+h*.75<a;h++)i.push(v.charAt(w>>>6*(3-h)&63));var y=v.charAt(64);if(y)for(;i.length%4;)i.push(y);return i.join("")},parse:function(u){var n=u.length,a=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var i=0;i<a.length;i++)v[a.charCodeAt(i)]=i}var c=a.charAt(64);if(c){var l=u.indexOf(c);l!==-1&&(n=l)}return f(u,n,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function f(u,n,a){for(var v=[],i=0,c=0;c<n;c++)if(c%4){var l=a[u.charCodeAt(c-1)]<<c%4*2,p=a[u.charCodeAt(c)]>>>6-c%4*2,g=l|p;v[i>>>2]|=g<<24-i%4*8,i++}return x.create(v,i)}}(),e.enc.Base64})}(yn)),ir}var sr={},_n={get exports(){return sr},set exports(t){sr=t}},me;function Bn(){return me||(me=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=r.enc;d.Base64url={stringify:function(u,n=!0){var a=u.words,v=u.sigBytes,i=n?this._safe_map:this._map;u.clamp();for(var c=[],l=0;l<v;l+=3)for(var p=a[l>>>2]>>>24-l%4*8&255,g=a[l+1>>>2]>>>24-(l+1)%4*8&255,w=a[l+2>>>2]>>>24-(l+2)%4*8&255,h=p<<16|g<<8|w,y=0;y<4&&l+y*.75<v;y++)c.push(i.charAt(h>>>6*(3-y)&63));var _=i.charAt(64);if(_)for(;c.length%4;)c.push(_);return c.join("")},parse:function(u,n=!0){var a=u.length,v=n?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var c=0;c<v.length;c++)i[v.charCodeAt(c)]=c}var l=v.charAt(64);if(l){var p=u.indexOf(l);p!==-1&&(a=p)}return f(u,a,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function f(u,n,a){for(var v=[],i=0,c=0;c<n;c++)if(c%4){var l=a[u.charCodeAt(c-1)]<<c%4*2,p=a[u.charCodeAt(c)]>>>6-c%4*2,g=l|p;v[i>>>2]|=g<<24-i%4*8,i++}return x.create(v,i)}}(),e.enc.Base64url})}(_n)),sr}var fr={},wn={get exports(){return fr},set exports(t){fr=t}},ke;function T0(){return ke||(ke=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(r){var s=e,x=s.lib,d=x.WordArray,f=x.Hasher,u=s.algo,n=[];(function(){for(var p=0;p<64;p++)n[p]=r.abs(r.sin(p+1))*4294967296|0})();var a=u.MD5=f.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,g){for(var w=0;w<16;w++){var h=g+w,y=p[h];p[h]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var _=this._hash.words,m=p[g+0],C=p[g+1],S=p[g+2],b=p[g+3],z=p[g+4],B=p[g+5],k=p[g+6],E=p[g+7],A=p[g+8],q=p[g+9],T=p[g+10],D=p[g+11],W=p[g+12],I=p[g+13],U=p[g+14],N=p[g+15],F=_[0],P=_[1],R=_[2],H=_[3];F=v(F,P,R,H,m,7,n[0]),H=v(H,F,P,R,C,12,n[1]),R=v(R,H,F,P,S,17,n[2]),P=v(P,R,H,F,b,22,n[3]),F=v(F,P,R,H,z,7,n[4]),H=v(H,F,P,R,B,12,n[5]),R=v(R,H,F,P,k,17,n[6]),P=v(P,R,H,F,E,22,n[7]),F=v(F,P,R,H,A,7,n[8]),H=v(H,F,P,R,q,12,n[9]),R=v(R,H,F,P,T,17,n[10]),P=v(P,R,H,F,D,22,n[11]),F=v(F,P,R,H,W,7,n[12]),H=v(H,F,P,R,I,12,n[13]),R=v(R,H,F,P,U,17,n[14]),P=v(P,R,H,F,N,22,n[15]),F=i(F,P,R,H,C,5,n[16]),H=i(H,F,P,R,k,9,n[17]),R=i(R,H,F,P,D,14,n[18]),P=i(P,R,H,F,m,20,n[19]),F=i(F,P,R,H,B,5,n[20]),H=i(H,F,P,R,T,9,n[21]),R=i(R,H,F,P,N,14,n[22]),P=i(P,R,H,F,z,20,n[23]),F=i(F,P,R,H,q,5,n[24]),H=i(H,F,P,R,U,9,n[25]),R=i(R,H,F,P,b,14,n[26]),P=i(P,R,H,F,A,20,n[27]),F=i(F,P,R,H,I,5,n[28]),H=i(H,F,P,R,S,9,n[29]),R=i(R,H,F,P,E,14,n[30]),P=i(P,R,H,F,W,20,n[31]),F=c(F,P,R,H,B,4,n[32]),H=c(H,F,P,R,A,11,n[33]),R=c(R,H,F,P,D,16,n[34]),P=c(P,R,H,F,U,23,n[35]),F=c(F,P,R,H,C,4,n[36]),H=c(H,F,P,R,z,11,n[37]),R=c(R,H,F,P,E,16,n[38]),P=c(P,R,H,F,T,23,n[39]),F=c(F,P,R,H,I,4,n[40]),H=c(H,F,P,R,m,11,n[41]),R=c(R,H,F,P,b,16,n[42]),P=c(P,R,H,F,k,23,n[43]),F=c(F,P,R,H,q,4,n[44]),H=c(H,F,P,R,W,11,n[45]),R=c(R,H,F,P,N,16,n[46]),P=c(P,R,H,F,S,23,n[47]),F=l(F,P,R,H,m,6,n[48]),H=l(H,F,P,R,E,10,n[49]),R=l(R,H,F,P,U,15,n[50]),P=l(P,R,H,F,B,21,n[51]),F=l(F,P,R,H,W,6,n[52]),H=l(H,F,P,R,b,10,n[53]),R=l(R,H,F,P,T,15,n[54]),P=l(P,R,H,F,C,21,n[55]),F=l(F,P,R,H,A,6,n[56]),H=l(H,F,P,R,N,10,n[57]),R=l(R,H,F,P,k,15,n[58]),P=l(P,R,H,F,I,21,n[59]),F=l(F,P,R,H,z,6,n[60]),H=l(H,F,P,R,D,10,n[61]),R=l(R,H,F,P,S,15,n[62]),P=l(P,R,H,F,q,21,n[63]),_[0]=_[0]+F|0,_[1]=_[1]+P|0,_[2]=_[2]+R|0,_[3]=_[3]+H|0},_doFinalize:function(){var p=this._data,g=p.words,w=this._nDataBytes*8,h=p.sigBytes*8;g[h>>>5]|=128<<24-h%32;var y=r.floor(w/4294967296),_=w;g[(h+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,g[(h+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var m=this._hash,C=m.words,S=0;S<4;S++){var b=C[S];C[S]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return m},clone:function(){var p=f.clone.call(this);return p._hash=this._hash.clone(),p}});function v(p,g,w,h,y,_,m){var C=p+(g&w|~g&h)+y+m;return(C<<_|C>>>32-_)+g}function i(p,g,w,h,y,_,m){var C=p+(g&h|w&~h)+y+m;return(C<<_|C>>>32-_)+g}function c(p,g,w,h,y,_,m){var C=p+(g^w^h)+y+m;return(C<<_|C>>>32-_)+g}function l(p,g,w,h,y,_,m){var C=p+(w^(g|~h))+y+m;return(C<<_|C>>>32-_)+g}s.MD5=f._createHelper(a),s.HmacMD5=f._createHmacHelper(a)}(Math),e.MD5})}(wn)),fr}var xr={},bn={get exports(){return xr},set exports(t){xr=t}},Se;function Jr(){return Se||(Se=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=s.Hasher,f=r.algo,u=[],n=f.SHA1=d.extend({_doReset:function(){this._hash=new x.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,v){for(var i=this._hash.words,c=i[0],l=i[1],p=i[2],g=i[3],w=i[4],h=0;h<80;h++){if(h<16)u[h]=a[v+h]|0;else{var y=u[h-3]^u[h-8]^u[h-14]^u[h-16];u[h]=y<<1|y>>>31}var _=(c<<5|c>>>27)+w+u[h];h<20?_+=(l&p|~l&g)+1518500249:h<40?_+=(l^p^g)+1859775393:h<60?_+=(l&p|l&g|p&g)-1894007588:_+=(l^p^g)-899497514,w=g,g=p,p=l<<30|l>>>2,l=c,c=_}i[0]=i[0]+c|0,i[1]=i[1]+l|0,i[2]=i[2]+p|0,i[3]=i[3]+g|0,i[4]=i[4]+w|0},_doFinalize:function(){var a=this._data,v=a.words,i=this._nDataBytes*8,c=a.sigBytes*8;return v[c>>>5]|=128<<24-c%32,v[(c+64>>>9<<4)+14]=Math.floor(i/4294967296),v[(c+64>>>9<<4)+15]=i,a.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var a=d.clone.call(this);return a._hash=this._hash.clone(),a}});r.SHA1=d._createHelper(n),r.HmacSHA1=d._createHmacHelper(n)}(),e.SHA1})}(bn)),xr}var cr={},Cn={get exports(){return cr},set exports(t){cr=t}},Ee;function yt(){return Ee||(Ee=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(r){var s=e,x=s.lib,d=x.WordArray,f=x.Hasher,u=s.algo,n=[],a=[];(function(){function c(w){for(var h=r.sqrt(w),y=2;y<=h;y++)if(!(w%y))return!1;return!0}function l(w){return(w-(w|0))*4294967296|0}for(var p=2,g=0;g<64;)c(p)&&(g<8&&(n[g]=l(r.pow(p,1/2))),a[g]=l(r.pow(p,1/3)),g++),p++})();var v=[],i=u.SHA256=f.extend({_doReset:function(){this._hash=new d.init(n.slice(0))},_doProcessBlock:function(c,l){for(var p=this._hash.words,g=p[0],w=p[1],h=p[2],y=p[3],_=p[4],m=p[5],C=p[6],S=p[7],b=0;b<64;b++){if(b<16)v[b]=c[l+b]|0;else{var z=v[b-15],B=(z<<25|z>>>7)^(z<<14|z>>>18)^z>>>3,k=v[b-2],E=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;v[b]=B+v[b-7]+E+v[b-16]}var A=_&m^~_&C,q=g&w^g&h^w&h,T=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),D=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),W=S+D+A+a[b]+v[b],I=T+q;S=C,C=m,m=_,_=y+W|0,y=h,h=w,w=g,g=W+I|0}p[0]=p[0]+g|0,p[1]=p[1]+w|0,p[2]=p[2]+h|0,p[3]=p[3]+y|0,p[4]=p[4]+_|0,p[5]=p[5]+m|0,p[6]=p[6]+C|0,p[7]=p[7]+S|0},_doFinalize:function(){var c=this._data,l=c.words,p=this._nDataBytes*8,g=c.sigBytes*8;return l[g>>>5]|=128<<24-g%32,l[(g+64>>>9<<4)+14]=r.floor(p/4294967296),l[(g+64>>>9<<4)+15]=p,c.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var c=f.clone.call(this);return c._hash=this._hash.clone(),c}});s.SHA256=f._createHelper(i),s.HmacSHA256=f._createHmacHelper(i)}(Math),e.SHA256})}(Cn)),cr}var vr={},mn={get exports(){return vr},set exports(t){vr=t}},Fe;function kn(){return Fe||(Fe=1,function(t,o){(function(e,r,s){t.exports=r(M(),yt())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=r.algo,f=d.SHA256,u=d.SHA224=f.extend({_doReset:function(){this._hash=new x.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var n=f._doFinalize.call(this);return n.sigBytes-=4,n}});r.SHA224=f._createHelper(u),r.HmacSHA224=f._createHmacHelper(u)}(),e.SHA224})}(mn)),vr}var ur={},Sn={get exports(){return ur},set exports(t){ur=t}},Ae;function _t(){return Ae||(Ae=1,function(t,o){(function(e,r,s){t.exports=r(M(),Lr())})($,function(e){return function(){var r=e,s=r.lib,x=s.Hasher,d=r.x64,f=d.Word,u=d.WordArray,n=r.algo;function a(){return f.create.apply(f,arguments)}var v=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],i=[];(function(){for(var l=0;l<80;l++)i[l]=a()})();var c=n.SHA512=x.extend({_doReset:function(){this._hash=new u.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(l,p){for(var g=this._hash.words,w=g[0],h=g[1],y=g[2],_=g[3],m=g[4],C=g[5],S=g[6],b=g[7],z=w.high,B=w.low,k=h.high,E=h.low,A=y.high,q=y.low,T=_.high,D=_.low,W=m.high,I=m.low,U=C.high,N=C.low,F=S.high,P=S.low,R=b.high,H=b.low,O=z,j=B,G=k,L=E,_0=A,u0=q,C0=T,d0=D,i0=W,Y=I,M0=U,D0=N,j0=F,W0=P,Ir=R,L0=H,s0=0;s0<80;s0++){var n0,p0,K0=i[s0];if(s0<16)p0=K0.high=l[p+s0*2]|0,n0=K0.low=l[p+s0*2+1]|0;else{var ee=i[s0-15],m0=ee.high,I0=ee.low,Bt=(m0>>>1|I0<<31)^(m0>>>8|I0<<24)^m0>>>7,te=(I0>>>1|m0<<31)^(I0>>>8|m0<<24)^(I0>>>7|m0<<25),ne=i[s0-2],k0=ne.high,O0=ne.low,wt=(k0>>>19|O0<<13)^(k0<<3|O0>>>29)^k0>>>6,ae=(O0>>>19|k0<<13)^(O0<<3|k0>>>29)^(O0>>>6|k0<<26),oe=i[s0-7],bt=oe.high,Ct=oe.low,ie=i[s0-16],mt=ie.high,se=ie.low;n0=te+Ct,p0=Bt+bt+(n0>>>0<te>>>0?1:0),n0=n0+ae,p0=p0+wt+(n0>>>0<ae>>>0?1:0),n0=n0+se,p0=p0+mt+(n0>>>0<se>>>0?1:0),K0.high=p0,K0.low=n0}var kt=i0&M0^~i0&j0,fe=Y&D0^~Y&W0,St=O&G^O&_0^G&_0,Et=j&L^j&u0^L&u0,Ft=(O>>>28|j<<4)^(O<<30|j>>>2)^(O<<25|j>>>7),xe=(j>>>28|O<<4)^(j<<30|O>>>2)^(j<<25|O>>>7),At=(i0>>>14|Y<<18)^(i0>>>18|Y<<14)^(i0<<23|Y>>>9),Ht=(Y>>>14|i0<<18)^(Y>>>18|i0<<14)^(Y<<23|i0>>>9),ce=v[s0],Pt=ce.high,ve=ce.low,t0=L0+Ht,g0=Ir+At+(t0>>>0<L0>>>0?1:0),t0=t0+fe,g0=g0+kt+(t0>>>0<fe>>>0?1:0),t0=t0+ve,g0=g0+Pt+(t0>>>0<ve>>>0?1:0),t0=t0+n0,g0=g0+p0+(t0>>>0<n0>>>0?1:0),ue=xe+Et,zt=Ft+St+(ue>>>0<xe>>>0?1:0);Ir=j0,L0=W0,j0=M0,W0=D0,M0=i0,D0=Y,Y=d0+t0|0,i0=C0+g0+(Y>>>0<d0>>>0?1:0)|0,C0=_0,d0=u0,_0=G,u0=L,G=O,L=j,j=t0+ue|0,O=g0+zt+(j>>>0<t0>>>0?1:0)|0}B=w.low=B+j,w.high=z+O+(B>>>0<j>>>0?1:0),E=h.low=E+L,h.high=k+G+(E>>>0<L>>>0?1:0),q=y.low=q+u0,y.high=A+_0+(q>>>0<u0>>>0?1:0),D=_.low=D+d0,_.high=T+C0+(D>>>0<d0>>>0?1:0),I=m.low=I+Y,m.high=W+i0+(I>>>0<Y>>>0?1:0),N=C.low=N+D0,C.high=U+M0+(N>>>0<D0>>>0?1:0),P=S.low=P+W0,S.high=F+j0+(P>>>0<W0>>>0?1:0),H=b.low=H+L0,b.high=R+Ir+(H>>>0<L0>>>0?1:0)},_doFinalize:function(){var l=this._data,p=l.words,g=this._nDataBytes*8,w=l.sigBytes*8;p[w>>>5]|=128<<24-w%32,p[(w+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(w+128>>>10<<5)+31]=g,l.sigBytes=p.length*4,this._process();var h=this._hash.toX32();return h},clone:function(){var l=x.clone.call(this);return l._hash=this._hash.clone(),l},blockSize:1024/32});r.SHA512=x._createHelper(c),r.HmacSHA512=x._createHmacHelper(c)}(),e.SHA512})}(Sn)),ur}var lr={},En={get exports(){return lr},set exports(t){lr=t}},He;function Fn(){return He||(He=1,function(t,o){(function(e,r,s){t.exports=r(M(),Lr(),_t())})($,function(e){return function(){var r=e,s=r.x64,x=s.Word,d=s.WordArray,f=r.algo,u=f.SHA512,n=f.SHA384=u.extend({_doReset:function(){this._hash=new d.init([new x.init(3418070365,3238371032),new x.init(1654270250,914150663),new x.init(2438529370,812702999),new x.init(355462360,4144912697),new x.init(1731405415,4290775857),new x.init(2394180231,1750603025),new x.init(3675008525,1694076839),new x.init(1203062813,3204075428)])},_doFinalize:function(){var a=u._doFinalize.call(this);return a.sigBytes-=16,a}});r.SHA384=u._createHelper(n),r.HmacSHA384=u._createHmacHelper(n)}(),e.SHA384})}(En)),lr}var hr={},An={get exports(){return hr},set exports(t){hr=t}},Pe;function Hn(){return Pe||(Pe=1,function(t,o){(function(e,r,s){t.exports=r(M(),Lr())})($,function(e){return function(r){var s=e,x=s.lib,d=x.WordArray,f=x.Hasher,u=s.x64,n=u.Word,a=s.algo,v=[],i=[],c=[];(function(){for(var g=1,w=0,h=0;h<24;h++){v[g+5*w]=(h+1)*(h+2)/2%64;var y=w%5,_=(2*g+3*w)%5;g=y,w=_}for(var g=0;g<5;g++)for(var w=0;w<5;w++)i[g+5*w]=w+(2*g+3*w)%5*5;for(var m=1,C=0;C<24;C++){for(var S=0,b=0,z=0;z<7;z++){if(m&1){var B=(1<<z)-1;B<32?b^=1<<B:S^=1<<B-32}m&128?m=m<<1^113:m<<=1}c[C]=n.create(S,b)}})();var l=[];(function(){for(var g=0;g<25;g++)l[g]=n.create()})();var p=a.SHA3=f.extend({cfg:f.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],w=0;w<25;w++)g[w]=new n.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,w){for(var h=this._state,y=this.blockSize/2,_=0;_<y;_++){var m=g[w+2*_],C=g[w+2*_+1];m=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360;var S=h[_];S.high^=C,S.low^=m}for(var b=0;b<24;b++){for(var z=0;z<5;z++){for(var B=0,k=0,E=0;E<5;E++){var S=h[z+5*E];B^=S.high,k^=S.low}var A=l[z];A.high=B,A.low=k}for(var z=0;z<5;z++)for(var q=l[(z+4)%5],T=l[(z+1)%5],D=T.high,W=T.low,B=q.high^(D<<1|W>>>31),k=q.low^(W<<1|D>>>31),E=0;E<5;E++){var S=h[z+5*E];S.high^=B,S.low^=k}for(var I=1;I<25;I++){var B,k,S=h[I],U=S.high,N=S.low,F=v[I];F<32?(B=U<<F|N>>>32-F,k=N<<F|U>>>32-F):(B=N<<F-32|U>>>64-F,k=U<<F-32|N>>>64-F);var P=l[i[I]];P.high=B,P.low=k}var R=l[0],H=h[0];R.high=H.high,R.low=H.low;for(var z=0;z<5;z++)for(var E=0;E<5;E++){var I=z+5*E,S=h[I],O=l[I],j=l[(z+1)%5+5*E],G=l[(z+2)%5+5*E];S.high=O.high^~j.high&G.high,S.low=O.low^~j.low&G.low}var S=h[0],L=c[b];S.high^=L.high,S.low^=L.low}},_doFinalize:function(){var g=this._data,w=g.words;this._nDataBytes*8;var h=g.sigBytes*8,y=this.blockSize*32;w[h>>>5]|=1<<24-h%32,w[(r.ceil((h+1)/y)*y>>>5)-1]|=128,g.sigBytes=w.length*4,this._process();for(var _=this._state,m=this.cfg.outputLength/8,C=m/8,S=[],b=0;b<C;b++){var z=_[b],B=z.high,k=z.low;B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,S.push(k),S.push(B)}return new d.init(S,m)},clone:function(){for(var g=f.clone.call(this),w=g._state=this._state.slice(0),h=0;h<25;h++)w[h]=w[h].clone();return g}});s.SHA3=f._createHelper(p),s.HmacSHA3=f._createHmacHelper(p)}(Math),e.SHA3})}(An)),hr}var dr={},Pn={get exports(){return dr},set exports(t){dr=t}},ze;function zn(){return ze||(ze=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){return function(r){var s=e,x=s.lib,d=x.WordArray,f=x.Hasher,u=s.algo,n=d.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=d.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=d.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),i=d.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=d.create([0,1518500249,1859775393,2400959708,2840853838]),l=d.create([1352829926,1548603684,1836072691,2053994217,0]),p=u.RIPEMD160=f.extend({_doReset:function(){this._hash=d.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(C,S){for(var b=0;b<16;b++){var z=S+b,B=C[z];C[z]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}var k=this._hash.words,E=c.words,A=l.words,q=n.words,T=a.words,D=v.words,W=i.words,I,U,N,F,P,R,H,O,j,G;R=I=k[0],H=U=k[1],O=N=k[2],j=F=k[3],G=P=k[4];for(var L,b=0;b<80;b+=1)L=I+C[S+q[b]]|0,b<16?L+=g(U,N,F)+E[0]:b<32?L+=w(U,N,F)+E[1]:b<48?L+=h(U,N,F)+E[2]:b<64?L+=y(U,N,F)+E[3]:L+=_(U,N,F)+E[4],L=L|0,L=m(L,D[b]),L=L+P|0,I=P,P=F,F=m(N,10),N=U,U=L,L=R+C[S+T[b]]|0,b<16?L+=_(H,O,j)+A[0]:b<32?L+=y(H,O,j)+A[1]:b<48?L+=h(H,O,j)+A[2]:b<64?L+=w(H,O,j)+A[3]:L+=g(H,O,j)+A[4],L=L|0,L=m(L,W[b]),L=L+G|0,R=G,G=j,j=m(O,10),O=H,H=L;L=k[1]+N+j|0,k[1]=k[2]+F+G|0,k[2]=k[3]+P+R|0,k[3]=k[4]+I+H|0,k[4]=k[0]+U+O|0,k[0]=L},_doFinalize:function(){var C=this._data,S=C.words,b=this._nDataBytes*8,z=C.sigBytes*8;S[z>>>5]|=128<<24-z%32,S[(z+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,C.sigBytes=(S.length+1)*4,this._process();for(var B=this._hash,k=B.words,E=0;E<5;E++){var A=k[E];k[E]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return B},clone:function(){var C=f.clone.call(this);return C._hash=this._hash.clone(),C}});function g(C,S,b){return C^S^b}function w(C,S,b){return C&S|~C&b}function h(C,S,b){return(C|~S)^b}function y(C,S,b){return C&b|S&~b}function _(C,S,b){return C^(S|~b)}function m(C,S){return C<<S|C>>>32-S}s.RIPEMD160=f._createHelper(p),s.HmacRIPEMD160=f._createHmacHelper(p)}(),e.RIPEMD160})}(Pn)),dr}var pr={},Rn={get exports(){return pr},set exports(t){pr=t}},Re;function re(){return Re||(Re=1,function(t,o){(function(e,r){t.exports=r(M())})($,function(e){(function(){var r=e,s=r.lib,x=s.Base,d=r.enc,f=d.Utf8,u=r.algo;u.HMAC=x.extend({init:function(n,a){n=this._hasher=new n.init,typeof a=="string"&&(a=f.parse(a));var v=n.blockSize,i=v*4;a.sigBytes>i&&(a=n.finalize(a)),a.clamp();for(var c=this._oKey=a.clone(),l=this._iKey=a.clone(),p=c.words,g=l.words,w=0;w<v;w++)p[w]^=1549556828,g[w]^=909522486;c.sigBytes=l.sigBytes=i,this.reset()},reset:function(){var n=this._hasher;n.reset(),n.update(this._iKey)},update:function(n){return this._hasher.update(n),this},finalize:function(n){var a=this._hasher,v=a.finalize(n);a.reset();var i=a.finalize(this._oKey.clone().concat(v));return i}})})()})}(Rn)),pr}var gr={},qn={get exports(){return gr},set exports(t){gr=t}},qe;function Tn(){return qe||(qe=1,function(t,o){(function(e,r,s){t.exports=r(M(),Jr(),re())})($,function(e){return function(){var r=e,s=r.lib,x=s.Base,d=s.WordArray,f=r.algo,u=f.SHA1,n=f.HMAC,a=f.PBKDF2=x.extend({cfg:x.extend({keySize:128/32,hasher:u,iterations:1}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,i){for(var c=this.cfg,l=n.create(c.hasher,v),p=d.create(),g=d.create([1]),w=p.words,h=g.words,y=c.keySize,_=c.iterations;w.length<y;){var m=l.update(i).finalize(g);l.reset();for(var C=m.words,S=C.length,b=m,z=1;z<_;z++){b=l.finalize(b),l.reset();for(var B=b.words,k=0;k<S;k++)C[k]^=B[k]}p.concat(m),h[0]++}return p.sigBytes=y*4,p}});r.PBKDF2=function(v,i,c){return a.create(c).compute(v,i)}}(),e.PBKDF2})}(qn)),gr}var yr={},Dn={get exports(){return yr},set exports(t){yr=t}},Te;function b0(){return Te||(Te=1,function(t,o){(function(e,r,s){t.exports=r(M(),Jr(),re())})($,function(e){return function(){var r=e,s=r.lib,x=s.Base,d=s.WordArray,f=r.algo,u=f.MD5,n=f.EvpKDF=x.extend({cfg:x.extend({keySize:128/32,hasher:u,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,v){for(var i,c=this.cfg,l=c.hasher.create(),p=d.create(),g=p.words,w=c.keySize,h=c.iterations;g.length<w;){i&&l.update(i),i=l.update(a).finalize(v),l.reset();for(var y=1;y<h;y++)i=l.finalize(i),l.reset();p.concat(i)}return p.sigBytes=w*4,p}});r.EvpKDF=function(a,v,i){return n.create(i).compute(a,v)}}(),e.EvpKDF})}(Dn)),yr}var _r={},Wn={get exports(){return _r},set exports(t){_r=t}},De;function J(){return De||(De=1,function(t,o){(function(e,r,s){t.exports=r(M(),b0())})($,function(e){e.lib.Cipher||function(r){var s=e,x=s.lib,d=x.Base,f=x.WordArray,u=x.BufferedBlockAlgorithm,n=s.enc;n.Utf8;var a=n.Base64,v=s.algo,i=v.EvpKDF,c=x.Cipher=u.extend({cfg:d.extend(),createEncryptor:function(B,k){return this.create(this._ENC_XFORM_MODE,B,k)},createDecryptor:function(B,k){return this.create(this._DEC_XFORM_MODE,B,k)},init:function(B,k,E){this.cfg=this.cfg.extend(E),this._xformMode=B,this._key=k,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(B){return this._append(B),this._process()},finalize:function(B){B&&this._append(B);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function B(k){return typeof k=="string"?z:C}return function(k){return{encrypt:function(E,A,q){return B(A).encrypt(k,E,A,q)},decrypt:function(E,A,q){return B(A).decrypt(k,E,A,q)}}}}()});x.StreamCipher=c.extend({_doFinalize:function(){var B=this._process(!0);return B},blockSize:1});var l=s.mode={},p=x.BlockCipherMode=d.extend({createEncryptor:function(B,k){return this.Encryptor.create(B,k)},createDecryptor:function(B,k){return this.Decryptor.create(B,k)},init:function(B,k){this._cipher=B,this._iv=k}}),g=l.CBC=function(){var B=p.extend();B.Encryptor=B.extend({processBlock:function(E,A){var q=this._cipher,T=q.blockSize;k.call(this,E,A,T),q.encryptBlock(E,A),this._prevBlock=E.slice(A,A+T)}}),B.Decryptor=B.extend({processBlock:function(E,A){var q=this._cipher,T=q.blockSize,D=E.slice(A,A+T);q.decryptBlock(E,A),k.call(this,E,A,T),this._prevBlock=D}});function k(E,A,q){var T,D=this._iv;D?(T=D,this._iv=r):T=this._prevBlock;for(var W=0;W<q;W++)E[A+W]^=T[W]}return B}(),w=s.pad={},h=w.Pkcs7={pad:function(B,k){for(var E=k*4,A=E-B.sigBytes%E,q=A<<24|A<<16|A<<8|A,T=[],D=0;D<A;D+=4)T.push(q);var W=f.create(T,A);B.concat(W)},unpad:function(B){var k=B.words[B.sigBytes-1>>>2]&255;B.sigBytes-=k}};x.BlockCipher=c.extend({cfg:c.cfg.extend({mode:g,padding:h}),reset:function(){var B;c.reset.call(this);var k=this.cfg,E=k.iv,A=k.mode;this._xformMode==this._ENC_XFORM_MODE?B=A.createEncryptor:(B=A.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==B?this._mode.init(this,E&&E.words):(this._mode=B.call(A,this,E&&E.words),this._mode.__creator=B)},_doProcessBlock:function(B,k){this._mode.processBlock(B,k)},_doFinalize:function(){var B,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),B=this._process(!0)):(B=this._process(!0),k.unpad(B)),B},blockSize:128/32});var y=x.CipherParams=d.extend({init:function(B){this.mixIn(B)},toString:function(B){return(B||this.formatter).stringify(this)}}),_=s.format={},m=_.OpenSSL={stringify:function(B){var k,E=B.ciphertext,A=B.salt;return A?k=f.create([1398893684,1701076831]).concat(A).concat(E):k=E,k.toString(a)},parse:function(B){var k,E=a.parse(B),A=E.words;return A[0]==1398893684&&A[1]==1701076831&&(k=f.create(A.slice(2,4)),A.splice(0,4),E.sigBytes-=16),y.create({ciphertext:E,salt:k})}},C=x.SerializableCipher=d.extend({cfg:d.extend({format:m}),encrypt:function(B,k,E,A){A=this.cfg.extend(A);var q=B.createEncryptor(E,A),T=q.finalize(k),D=q.cfg;return y.create({ciphertext:T,key:E,iv:D.iv,algorithm:B,mode:D.mode,padding:D.padding,blockSize:B.blockSize,formatter:A.format})},decrypt:function(B,k,E,A){A=this.cfg.extend(A),k=this._parse(k,A.format);var q=B.createDecryptor(E,A).finalize(k.ciphertext);return q},_parse:function(B,k){return typeof B=="string"?k.parse(B,this):B}}),S=s.kdf={},b=S.OpenSSL={execute:function(B,k,E,A){A||(A=f.random(64/8));var q=i.create({keySize:k+E}).compute(B,A),T=f.create(q.words.slice(k),E*4);return q.sigBytes=k*4,y.create({key:q,iv:T,salt:A})}},z=x.PasswordBasedCipher=C.extend({cfg:C.cfg.extend({kdf:b}),encrypt:function(B,k,E,A){A=this.cfg.extend(A);var q=A.kdf.execute(E,B.keySize,B.ivSize);A.iv=q.iv;var T=C.encrypt.call(this,B,k,q.key,A);return T.mixIn(q),T},decrypt:function(B,k,E,A){A=this.cfg.extend(A),k=this._parse(k,A.format);var q=A.kdf.execute(E,B.keySize,B.ivSize,k.salt);A.iv=q.iv;var T=C.decrypt.call(this,B,k,q.key,A);return T}})}()})}(Wn)),_r}var Br={},Ln={get exports(){return Br},set exports(t){Br=t}},We;function In(){return We||(We=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.mode.CFB=function(){var r=e.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(x,d){var f=this._cipher,u=f.blockSize;s.call(this,x,d,u,f),this._prevBlock=x.slice(d,d+u)}}),r.Decryptor=r.extend({processBlock:function(x,d){var f=this._cipher,u=f.blockSize,n=x.slice(d,d+u);s.call(this,x,d,u,f),this._prevBlock=n}});function s(x,d,f,u){var n,a=this._iv;a?(n=a.slice(0),this._iv=void 0):n=this._prevBlock,u.encryptBlock(n,0);for(var v=0;v<f;v++)x[d+v]^=n[v]}return r}(),e.mode.CFB})}(Ln)),Br}var wr={},On={get exports(){return wr},set exports(t){wr=t}},Le;function Un(){return Le||(Le=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.mode.CTR=function(){var r=e.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(x,d){var f=this._cipher,u=f.blockSize,n=this._iv,a=this._counter;n&&(a=this._counter=n.slice(0),this._iv=void 0);var v=a.slice(0);f.encryptBlock(v,0),a[u-1]=a[u-1]+1|0;for(var i=0;i<u;i++)x[d+i]^=v[i]}});return r.Decryptor=s,r}(),e.mode.CTR})}(On)),wr}var br={},Nn={get exports(){return br},set exports(t){br=t}},Ie;function $n(){return Ie||(Ie=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.mode.CTRGladman=function(){var r=e.lib.BlockCipherMode.extend();function s(f){if((f>>24&255)===255){var u=f>>16&255,n=f>>8&255,a=f&255;u===255?(u=0,n===255?(n=0,a===255?a=0:++a):++n):++u,f=0,f+=u<<16,f+=n<<8,f+=a}else f+=1<<24;return f}function x(f){return(f[0]=s(f[0]))===0&&(f[1]=s(f[1])),f}var d=r.Encryptor=r.extend({processBlock:function(f,u){var n=this._cipher,a=n.blockSize,v=this._iv,i=this._counter;v&&(i=this._counter=v.slice(0),this._iv=void 0),x(i);var c=i.slice(0);n.encryptBlock(c,0);for(var l=0;l<a;l++)f[u+l]^=c[l]}});return r.Decryptor=d,r}(),e.mode.CTRGladman})}(Nn)),br}var Cr={},Mn={get exports(){return Cr},set exports(t){Cr=t}},Oe;function jn(){return Oe||(Oe=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.mode.OFB=function(){var r=e.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(x,d){var f=this._cipher,u=f.blockSize,n=this._iv,a=this._keystream;n&&(a=this._keystream=n.slice(0),this._iv=void 0),f.encryptBlock(a,0);for(var v=0;v<u;v++)x[d+v]^=a[v]}});return r.Decryptor=s,r}(),e.mode.OFB})}(Mn)),Cr}var mr={},Kn={get exports(){return mr},set exports(t){mr=t}},Ue;function Xn(){return Ue||(Ue=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,x){this._cipher.encryptBlock(s,x)}}),r.Decryptor=r.extend({processBlock:function(s,x){this._cipher.decryptBlock(s,x)}}),r}(),e.mode.ECB})}(Kn)),mr}var kr={},Zn={get exports(){return kr},set exports(t){kr=t}},Ne;function Gn(){return Ne||(Ne=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.pad.AnsiX923={pad:function(r,s){var x=r.sigBytes,d=s*4,f=d-x%d,u=x+f-1;r.clamp(),r.words[u>>>2]|=f<<24-u%4*8,r.sigBytes+=f},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},e.pad.Ansix923})}(Zn)),kr}var Sr={},Vn={get exports(){return Sr},set exports(t){Sr=t}},$e;function Yn(){return $e||($e=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.pad.Iso10126={pad:function(r,s){var x=s*4,d=x-r.sigBytes%x;r.concat(e.lib.WordArray.random(d-1)).concat(e.lib.WordArray.create([d<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},e.pad.Iso10126})}(Vn)),Sr}var Er={},Qn={get exports(){return Er},set exports(t){Er=t}},Me;function Jn(){return Me||(Me=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.pad.Iso97971={pad:function(r,s){r.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(r,s)},unpad:function(r){e.pad.ZeroPadding.unpad(r),r.sigBytes--}},e.pad.Iso97971})}(Qn)),Er}var Fr={},ra={get exports(){return Fr},set exports(t){Fr=t}},je;function ea(){return je||(je=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.pad.ZeroPadding={pad:function(r,s){var x=s*4;r.clamp(),r.sigBytes+=x-(r.sigBytes%x||x)},unpad:function(r){for(var s=r.words,x=r.sigBytes-1,x=r.sigBytes-1;x>=0;x--)if(s[x>>>2]>>>24-x%4*8&255){r.sigBytes=x+1;break}}},e.pad.ZeroPadding})}(ra)),Fr}var Ar={},ta={get exports(){return Ar},set exports(t){Ar=t}},Ke;function na(){return Ke||(Ke=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(ta)),Ar}var Hr={},aa={get exports(){return Hr},set exports(t){Hr=t}},Xe;function oa(){return Xe||(Xe=1,function(t,o){(function(e,r,s){t.exports=r(M(),J())})($,function(e){return function(r){var s=e,x=s.lib,d=x.CipherParams,f=s.enc,u=f.Hex,n=s.format;n.Hex={stringify:function(a){return a.ciphertext.toString(u)},parse:function(a){var v=u.parse(a);return d.create({ciphertext:v})}}}(),e.format.Hex})}(aa)),Hr}var Pr={},ia={get exports(){return Pr},set exports(t){Pr=t}},Ze;function sa(){return Ze||(Ze=1,function(t,o){(function(e,r,s){t.exports=r(M(),q0(),T0(),b0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.BlockCipher,d=r.algo,f=[],u=[],n=[],a=[],v=[],i=[],c=[],l=[],p=[],g=[];(function(){for(var y=[],_=0;_<256;_++)_<128?y[_]=_<<1:y[_]=_<<1^283;for(var m=0,C=0,_=0;_<256;_++){var S=C^C<<1^C<<2^C<<3^C<<4;S=S>>>8^S&255^99,f[m]=S,u[S]=m;var b=y[m],z=y[b],B=y[z],k=y[S]*257^S*16843008;n[m]=k<<24|k>>>8,a[m]=k<<16|k>>>16,v[m]=k<<8|k>>>24,i[m]=k;var k=B*16843009^z*65537^b*257^m*16843008;c[S]=k<<24|k>>>8,l[S]=k<<16|k>>>16,p[S]=k<<8|k>>>24,g[S]=k,m?(m=b^y[y[y[B^b]]],C^=y[y[C]]):m=C=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],h=d.AES=x.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,m=_.words,C=_.sigBytes/4,S=this._nRounds=C+6,b=(S+1)*4,z=this._keySchedule=[],B=0;B<b;B++)B<C?z[B]=m[B]:(y=z[B-1],B%C?C>6&&B%C==4&&(y=f[y>>>24]<<24|f[y>>>16&255]<<16|f[y>>>8&255]<<8|f[y&255]):(y=y<<8|y>>>24,y=f[y>>>24]<<24|f[y>>>16&255]<<16|f[y>>>8&255]<<8|f[y&255],y^=w[B/C|0]<<24),z[B]=z[B-C]^y);for(var k=this._invKeySchedule=[],E=0;E<b;E++){var B=b-E;if(E%4)var y=z[B];else var y=z[B-4];E<4||B<=4?k[E]=y:k[E]=c[f[y>>>24]]^l[f[y>>>16&255]]^p[f[y>>>8&255]]^g[f[y&255]]}}},encryptBlock:function(y,_){this._doCryptBlock(y,_,this._keySchedule,n,a,v,i,f)},decryptBlock:function(y,_){var m=y[_+1];y[_+1]=y[_+3],y[_+3]=m,this._doCryptBlock(y,_,this._invKeySchedule,c,l,p,g,u);var m=y[_+1];y[_+1]=y[_+3],y[_+3]=m},_doCryptBlock:function(y,_,m,C,S,b,z,B){for(var k=this._nRounds,E=y[_]^m[0],A=y[_+1]^m[1],q=y[_+2]^m[2],T=y[_+3]^m[3],D=4,W=1;W<k;W++){var I=C[E>>>24]^S[A>>>16&255]^b[q>>>8&255]^z[T&255]^m[D++],U=C[A>>>24]^S[q>>>16&255]^b[T>>>8&255]^z[E&255]^m[D++],N=C[q>>>24]^S[T>>>16&255]^b[E>>>8&255]^z[A&255]^m[D++],F=C[T>>>24]^S[E>>>16&255]^b[A>>>8&255]^z[q&255]^m[D++];E=I,A=U,q=N,T=F}var I=(B[E>>>24]<<24|B[A>>>16&255]<<16|B[q>>>8&255]<<8|B[T&255])^m[D++],U=(B[A>>>24]<<24|B[q>>>16&255]<<16|B[T>>>8&255]<<8|B[E&255])^m[D++],N=(B[q>>>24]<<24|B[T>>>16&255]<<16|B[E>>>8&255]<<8|B[A&255])^m[D++],F=(B[T>>>24]<<24|B[E>>>16&255]<<16|B[A>>>8&255]<<8|B[q&255])^m[D++];y[_]=I,y[_+1]=U,y[_+2]=N,y[_+3]=F},keySize:256/32});r.AES=x._createHelper(h)}(),e.AES})}(ia)),Pr}var zr={},fa={get exports(){return zr},set exports(t){zr=t}},Ge;function xa(){return Ge||(Ge=1,function(t,o){(function(e,r,s){t.exports=r(M(),q0(),T0(),b0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=s.BlockCipher,f=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],n=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],i=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=f.DES=d.extend({_doReset:function(){for(var w=this._key,h=w.words,y=[],_=0;_<56;_++){var m=u[_]-1;y[_]=h[m>>>5]>>>31-m%32&1}for(var C=this._subKeys=[],S=0;S<16;S++){for(var b=C[S]=[],z=a[S],_=0;_<24;_++)b[_/6|0]|=y[(n[_]-1+z)%28]<<31-_%6,b[4+(_/6|0)]|=y[28+(n[_+24]-1+z)%28]<<31-_%6;b[0]=b[0]<<1|b[0]>>>31;for(var _=1;_<7;_++)b[_]=b[_]>>>(_-1)*4+3;b[7]=b[7]<<5|b[7]>>>27}for(var B=this._invSubKeys=[],_=0;_<16;_++)B[_]=C[15-_]},encryptBlock:function(w,h){this._doCryptBlock(w,h,this._subKeys)},decryptBlock:function(w,h){this._doCryptBlock(w,h,this._invSubKeys)},_doCryptBlock:function(w,h,y){this._lBlock=w[h],this._rBlock=w[h+1],l.call(this,4,252645135),l.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),l.call(this,1,1431655765);for(var _=0;_<16;_++){for(var m=y[_],C=this._lBlock,S=this._rBlock,b=0,z=0;z<8;z++)b|=v[z][((S^m[z])&i[z])>>>0];this._lBlock=S,this._rBlock=C^b}var B=this._lBlock;this._lBlock=this._rBlock,this._rBlock=B,l.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),w[h]=this._lBlock,w[h+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function l(w,h){var y=(this._lBlock>>>w^this._rBlock)&h;this._rBlock^=y,this._lBlock^=y<<w}function p(w,h){var y=(this._rBlock>>>w^this._lBlock)&h;this._lBlock^=y,this._rBlock^=y<<w}r.DES=d._createHelper(c);var g=f.TripleDES=d.extend({_doReset:function(){var w=this._key,h=w.words;if(h.length!==2&&h.length!==4&&h.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=h.slice(0,2),_=h.length<4?h.slice(0,2):h.slice(2,4),m=h.length<6?h.slice(0,2):h.slice(4,6);this._des1=c.createEncryptor(x.create(y)),this._des2=c.createEncryptor(x.create(_)),this._des3=c.createEncryptor(x.create(m))},encryptBlock:function(w,h){this._des1.encryptBlock(w,h),this._des2.decryptBlock(w,h),this._des3.encryptBlock(w,h)},decryptBlock:function(w,h){this._des3.decryptBlock(w,h),this._des2.encryptBlock(w,h),this._des1.decryptBlock(w,h)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=d._createHelper(g)}(),e.TripleDES})}(fa)),zr}var Rr={},ca={get exports(){return Rr},set exports(t){Rr=t}},Ve;function va(){return Ve||(Ve=1,function(t,o){(function(e,r,s){t.exports=r(M(),q0(),T0(),b0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.StreamCipher,d=r.algo,f=d.RC4=x.extend({_doReset:function(){for(var a=this._key,v=a.words,i=a.sigBytes,c=this._S=[],l=0;l<256;l++)c[l]=l;for(var l=0,p=0;l<256;l++){var g=l%i,w=v[g>>>2]>>>24-g%4*8&255;p=(p+c[l]+w)%256;var h=c[l];c[l]=c[p],c[p]=h}this._i=this._j=0},_doProcessBlock:function(a,v){a[v]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var a=this._S,v=this._i,i=this._j,c=0,l=0;l<4;l++){v=(v+1)%256,i=(i+a[v])%256;var p=a[v];a[v]=a[i],a[i]=p,c|=a[(a[v]+a[i])%256]<<24-l*8}return this._i=v,this._j=i,c}r.RC4=x._createHelper(f);var n=d.RC4Drop=f.extend({cfg:f.cfg.extend({drop:192}),_doReset:function(){f._doReset.call(this);for(var a=this.cfg.drop;a>0;a--)u.call(this)}});r.RC4Drop=x._createHelper(n)}(),e.RC4})}(ca)),Rr}var qr={},ua={get exports(){return qr},set exports(t){qr=t}},Ye;function la(){return Ye||(Ye=1,function(t,o){(function(e,r,s){t.exports=r(M(),q0(),T0(),b0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.StreamCipher,d=r.algo,f=[],u=[],n=[],a=d.Rabbit=x.extend({_doReset:function(){for(var i=this._key.words,c=this.cfg.iv,l=0;l<4;l++)i[l]=(i[l]<<8|i[l]>>>24)&16711935|(i[l]<<24|i[l]>>>8)&4278255360;var p=this._X=[i[0],i[3]<<16|i[2]>>>16,i[1],i[0]<<16|i[3]>>>16,i[2],i[1]<<16|i[0]>>>16,i[3],i[2]<<16|i[1]>>>16],g=this._C=[i[2]<<16|i[2]>>>16,i[0]&4294901760|i[1]&65535,i[3]<<16|i[3]>>>16,i[1]&4294901760|i[2]&65535,i[0]<<16|i[0]>>>16,i[2]&4294901760|i[3]&65535,i[1]<<16|i[1]>>>16,i[3]&4294901760|i[0]&65535];this._b=0;for(var l=0;l<4;l++)v.call(this);for(var l=0;l<8;l++)g[l]^=p[l+4&7];if(c){var w=c.words,h=w[0],y=w[1],_=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,m=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=_>>>16|m&4294901760,S=m<<16|_&65535;g[0]^=_,g[1]^=C,g[2]^=m,g[3]^=S,g[4]^=_,g[5]^=C,g[6]^=m,g[7]^=S;for(var l=0;l<4;l++)v.call(this)}},_doProcessBlock:function(i,c){var l=this._X;v.call(this),f[0]=l[0]^l[5]>>>16^l[3]<<16,f[1]=l[2]^l[7]>>>16^l[5]<<16,f[2]=l[4]^l[1]>>>16^l[7]<<16,f[3]=l[6]^l[3]>>>16^l[1]<<16;for(var p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360,i[c+p]^=f[p]},blockSize:128/32,ivSize:64/32});function v(){for(var i=this._X,c=this._C,l=0;l<8;l++)u[l]=c[l];c[0]=c[0]+1295307597+this._b|0,c[1]=c[1]+3545052371+(c[0]>>>0<u[0]>>>0?1:0)|0,c[2]=c[2]+886263092+(c[1]>>>0<u[1]>>>0?1:0)|0,c[3]=c[3]+1295307597+(c[2]>>>0<u[2]>>>0?1:0)|0,c[4]=c[4]+3545052371+(c[3]>>>0<u[3]>>>0?1:0)|0,c[5]=c[5]+886263092+(c[4]>>>0<u[4]>>>0?1:0)|0,c[6]=c[6]+1295307597+(c[5]>>>0<u[5]>>>0?1:0)|0,c[7]=c[7]+3545052371+(c[6]>>>0<u[6]>>>0?1:0)|0,this._b=c[7]>>>0<u[7]>>>0?1:0;for(var l=0;l<8;l++){var p=i[l]+c[l],g=p&65535,w=p>>>16,h=((g*g>>>17)+g*w>>>15)+w*w,y=((p&4294901760)*p|0)+((p&65535)*p|0);n[l]=h^y}i[0]=n[0]+(n[7]<<16|n[7]>>>16)+(n[6]<<16|n[6]>>>16)|0,i[1]=n[1]+(n[0]<<8|n[0]>>>24)+n[7]|0,i[2]=n[2]+(n[1]<<16|n[1]>>>16)+(n[0]<<16|n[0]>>>16)|0,i[3]=n[3]+(n[2]<<8|n[2]>>>24)+n[1]|0,i[4]=n[4]+(n[3]<<16|n[3]>>>16)+(n[2]<<16|n[2]>>>16)|0,i[5]=n[5]+(n[4]<<8|n[4]>>>24)+n[3]|0,i[6]=n[6]+(n[5]<<16|n[5]>>>16)+(n[4]<<16|n[4]>>>16)|0,i[7]=n[7]+(n[6]<<8|n[6]>>>24)+n[5]|0}r.Rabbit=x._createHelper(a)}(),e.Rabbit})}(ua)),qr}var Tr={},ha={get exports(){return Tr},set exports(t){Tr=t}},Qe;function da(){return Qe||(Qe=1,function(t,o){(function(e,r,s){t.exports=r(M(),q0(),T0(),b0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.StreamCipher,d=r.algo,f=[],u=[],n=[],a=d.RabbitLegacy=x.extend({_doReset:function(){var i=this._key.words,c=this.cfg.iv,l=this._X=[i[0],i[3]<<16|i[2]>>>16,i[1],i[0]<<16|i[3]>>>16,i[2],i[1]<<16|i[0]>>>16,i[3],i[2]<<16|i[1]>>>16],p=this._C=[i[2]<<16|i[2]>>>16,i[0]&4294901760|i[1]&65535,i[3]<<16|i[3]>>>16,i[1]&4294901760|i[2]&65535,i[0]<<16|i[0]>>>16,i[2]&4294901760|i[3]&65535,i[1]<<16|i[1]>>>16,i[3]&4294901760|i[0]&65535];this._b=0;for(var g=0;g<4;g++)v.call(this);for(var g=0;g<8;g++)p[g]^=l[g+4&7];if(c){var w=c.words,h=w[0],y=w[1],_=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,m=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=_>>>16|m&4294901760,S=m<<16|_&65535;p[0]^=_,p[1]^=C,p[2]^=m,p[3]^=S,p[4]^=_,p[5]^=C,p[6]^=m,p[7]^=S;for(var g=0;g<4;g++)v.call(this)}},_doProcessBlock:function(i,c){var l=this._X;v.call(this),f[0]=l[0]^l[5]>>>16^l[3]<<16,f[1]=l[2]^l[7]>>>16^l[5]<<16,f[2]=l[4]^l[1]>>>16^l[7]<<16,f[3]=l[6]^l[3]>>>16^l[1]<<16;for(var p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360,i[c+p]^=f[p]},blockSize:128/32,ivSize:64/32});function v(){for(var i=this._X,c=this._C,l=0;l<8;l++)u[l]=c[l];c[0]=c[0]+1295307597+this._b|0,c[1]=c[1]+3545052371+(c[0]>>>0<u[0]>>>0?1:0)|0,c[2]=c[2]+886263092+(c[1]>>>0<u[1]>>>0?1:0)|0,c[3]=c[3]+1295307597+(c[2]>>>0<u[2]>>>0?1:0)|0,c[4]=c[4]+3545052371+(c[3]>>>0<u[3]>>>0?1:0)|0,c[5]=c[5]+886263092+(c[4]>>>0<u[4]>>>0?1:0)|0,c[6]=c[6]+1295307597+(c[5]>>>0<u[5]>>>0?1:0)|0,c[7]=c[7]+3545052371+(c[6]>>>0<u[6]>>>0?1:0)|0,this._b=c[7]>>>0<u[7]>>>0?1:0;for(var l=0;l<8;l++){var p=i[l]+c[l],g=p&65535,w=p>>>16,h=((g*g>>>17)+g*w>>>15)+w*w,y=((p&4294901760)*p|0)+((p&65535)*p|0);n[l]=h^y}i[0]=n[0]+(n[7]<<16|n[7]>>>16)+(n[6]<<16|n[6]>>>16)|0,i[1]=n[1]+(n[0]<<8|n[0]>>>24)+n[7]|0,i[2]=n[2]+(n[1]<<16|n[1]>>>16)+(n[0]<<16|n[0]>>>16)|0,i[3]=n[3]+(n[2]<<8|n[2]>>>24)+n[1]|0,i[4]=n[4]+(n[3]<<16|n[3]>>>16)+(n[2]<<16|n[2]>>>16)|0,i[5]=n[5]+(n[4]<<8|n[4]>>>24)+n[3]|0,i[6]=n[6]+(n[5]<<16|n[5]>>>16)+(n[4]<<16|n[4]>>>16)|0,i[7]=n[7]+(n[6]<<8|n[6]>>>24)+n[5]|0}r.RabbitLegacy=x._createHelper(a)}(),e.RabbitLegacy})}(ha)),Tr}(function(t,o){(function(e,r,s){t.exports=r(M(),Lr(),dn(),gn(),q0(),Bn(),T0(),Jr(),yt(),kn(),_t(),Fn(),Hn(),zn(),re(),Tn(),b0(),J(),In(),Un(),$n(),jn(),Xn(),Gn(),Yn(),Jn(),ea(),na(),oa(),sa(),xa(),va(),la(),da())})($,function(e){return e})})(sn);const pa=(t,o)=>{try{const e=B0.enc.Base64.parse(o),r=B0.lib.WordArray.random(24),x={ciphertext:B0.AES.encrypt(t,e,{iv:r}).ciphertext.toString(),iv:r.toString()},d=B0.enc.Utf8.parse(JSON.stringify(x));return B0.enc.Base64.stringify(d)}catch{throw new Error("encryption failed")}},Je=(t,o)=>pa(JSON.stringify(t),o),Ur={Image:1,Video:2,VideoFrame:3};class A0{constructor(o,e,r){K(this,"zipFileProvider");K(this,"vottFileProvider");K(this,"downloader");this.zipFileProvider=o,this.vottFileProvider=e,this.downloader=r}createNewAssetItem(o,e,r,s){const{type:x,name:d,timestamp:f,parent:u}=o,n=d.split("?")[0].split("#")[0],a=u?this.createNewAssetItem(u,e,r,s):void 0;if(x===Ur.Image||x===Ur.Video){const v=s?`${n}${s}`:n,i=`${e}${r}${v}`,c={...o,id:er(i),name:d,path:i};return a&&(c.parent=a),c}if(x===Ur.VideoFrame){const i=`${s?`${n}${s}`:n}#t=${f}`,c=`${e}${r}${i}`,l={...o,id:er(c),name:i,path:c};return a&&(l.parent=a),l}throw new l0(e0.InvalidAssetType)}mappingNewAssets(o,e){var u;const r={},{sourceConnection:s}=e,x=(()=>{if(s.azureBlobSetting){const{accountName:n,containerName:a}=s.azureBlobSetting;return`https://${n}.blob.core.windows.net/${a}`}if(s.localFileSetting)return`file:${s.localFileSetting.folderPath}`;throw new l0(e0.InvalidFileProvider)})(),f=/^[A-Z]:(¥[^¥ ]*[^¥])+$/g.test(((u=s.localFileSetting)==null?void 0:u.folderPath)??"")?"¥":"/";return o.assets.forEach(n=>{var v;const{asset:a}=n;r[a.id]={...n,asset:this.createNewAssetItem(a,x,f,(v=s.azureBlobSetting)==null?void 0:v.sas)}}),r}static createConnection(o){if(o.localFileSetting)return o.localFileSetting;if(o.azureBlobSetting)return o.azureBlobSetting;throw new l0(e0.InvalidFileProvider)}static toFileProvider(o){return o.azureBlobSetting?"azureBlobStorage":"localFileSystemProxy"}updateProject(o,e,r){const{project:s}=o;s.assets={},Object.values(e).forEach(i=>{s.assets[i.asset.id]=i.asset}),s.lastVisitedAssetId=e[s.lastVisitedAssetId].asset.id;const{securityToken:x,sourceConnection:d,targetConnection:f}=r,u=A0.createConnection(d),n=A0.createConnection(f),a=Je(u,x),v=Je(n,x);return s.sourceConnection={providerType:A0.toFileProvider(d),providerOptions:{encrypted:a}},s.targetConnection={providerType:A0.toFileProvider(f),providerOptions:{encrypted:v}},{project:s,assets:Object.values(e)}}async saveAsync(o){const e=this.vottFileProvider.toFiles(o),r=await this.zipFileProvider.compress(e,"vott_migrated.zip").catch(()=>Promise.reject(new l0(e0.CompressionFailed)));return this.downloader.download(r)}async loadAsync(o){const e=await this.zipFileProvider.uncompress(o).catch(()=>Promise.reject(new l0(e0.InvalidZipFile)));return this.vottFileProvider.loads(e)}}class ga{constructor(o){K(this,"vottProvider");this.vottProvider=o}async migrateProject(o,e){try{const r=await this.vottProvider.loadAsync(o),s=this.vottProvider.mappingNewAssets(r,e),x=this.vottProvider.updateProject(r,s,e);return await this.vottProvider.saveAsync(x)}catch(r){return Promise.reject(r)}}}const v0={Init:1,Loading:2,Error:3,Success:4},ya={loading:v0.Init,setting:{securityToken:"",sourceConnection:{},targetConnection:{}}};class _a{constructor(o){K(this,"state");K(this,"usecase");K(this,"onUpdated");K(this,"currentState",()=>this.state);K(this,"updateLoading",(o,e)=>{this.state.loading=o,e&&(this.state.errorCode=e),this.dispatchUpdate()});K(this,"updateVottProjectSetting",o=>{this.state.setting=o,this.dispatchUpdate()});K(this,"updateVottFile",o=>{this.state.vottFile=o,this.dispatchUpdate()});K(this,"runConvertAsync",async()=>{const{setting:o,vottFile:e}=this.state;if(!e){this.updateLoading(v0.Error);return}this.updateLoading(v0.Loading);try{const{securityToken:r,sourceConnection:s,targetConnection:x}=o;if(!s||!x)return;const d={securityToken:r,sourceConnection:s,targetConnection:x};await this.usecase.migrateProject(e,d),this.updateLoading(v0.Success)}catch(r){r instanceof l0?this.updateLoading(v0.Error,r.errorCode):this.updateLoading(v0.Error)}});K(this,"addOnUpdated",o=>{this.onUpdated=o});this.state=ya,this.usecase=o}dispatchUpdate(){this.onUpdated&&this.onUpdated(this.state)}}const rt=t=>{if(/^https:\/\/[a-z0-9-]{3,64}.blob.core.windows.net\/[a-z0-9-]{3,64}\?.+$/g.test(t))try{const r=t.split("/")[2].split(".")[0],s=t.split("/")[3].split("?")[0],x=`?${t.split("/")[3].split("?")[1]}`;return{azureBlobSetting:{accountName:r,containerName:s,sas:x}}}catch{return{}}const o=/^(\/[^/ ]*[^/])+$/g.test(t),e=/^[A-Z]:(¥[^¥ ]*[^¥])+$/g.test(t);return o||e?{localFileSetting:{folderPath:t}}:{}};class Ba{constructor(o){K(this,"store");K(this,"findElement",o=>document.querySelector(`#${o}`));K(this,"readSettings",()=>{var d,f,u;const o=((d=this.findElement("securityToken"))==null?void 0:d.value)??"",e=((f=this.findElement("sourceConnection"))==null?void 0:f.value)??"",r=((u=this.findElement("targetConnection"))==null?void 0:u.value)??"",s=rt(e),x=rt(r);return{securityToken:o,sourceConnection:s,targetConnection:x}});K(this,"onFormValueChanged",()=>{const o=this.readSettings();this.store.updateVottProjectSetting(o)});K(this,"onSubmit",()=>{this.store.runConvertAsync()});var e,r,s,x;this.store=o,this.addFileSubmitEvent(),(e=this.findElement("securityToken"))==null||e.addEventListener("input",this.onFormValueChanged),(r=this.findElement("sourceConnection"))==null||r.addEventListener("input",this.onFormValueChanged),(s=this.findElement("targetConnection"))==null||s.addEventListener("input",this.onFormValueChanged),(x=this.findElement("submit"))==null||x.addEventListener("click",this.onSubmit)}addFileSubmitEvent(){const o=this.findElement("inputZip");if(!o)return;const e=r=>{var x;const s=(x=r.target)==null?void 0:x.files;!s||this.store.updateVottFile(s[0])};o.addEventListener("change",e),o.addEventListener("dragstart",e)}}class wa{constructor(){K(this,"findElement",o=>document.querySelector(`#${o}`));K(this,"toggleSubmitButtonState",o=>{const{vottFile:e,setting:r}=o,s=this.findElement("submit");if(!s)return;const{targetConnection:x,sourceConnection:d,securityToken:f}=r,u=d.azureBlobSetting||d.localFileSetting,n=x.azureBlobSetting||x.localFileSetting,a=u&&n&&f.length>0&&e!==void 0;s.disabled=!a});K(this,"toErrorMessage",o=>{if(!o)return"";switch(o){case e0.InvalidZipFile:return"zipファイルでないか、不正なzipファイルです";case e0.InvalidFileIncluded:return"*.vott, *-asset.json以外のファイルを削除してください";case e0.JSONFormatError:return"*.vottか*-asset.jsonファイルのフォーマットが不正です";case e0.InvalidFileProvider:return"ファイルプロバイダはローカルファイルシステムかAzure Blob Storageのみ対応しています";case e0.InvalidAssetType:return"未定義のアセット種別があります";case e0.ProjectNotFound:return"プロジェクトファイルがありません";case e0.CompressionFailed:return"変換結果ファイルの圧縮ができませんでした";default:return"不明なエラーです"}});K(this,"showConnectionFileProvider",(o,e)=>{const r=this.findElement(o);if(!!r){if(e.azureBlobSetting){r.innerText="Azure Blob Storage";return}if(e.localFileSetting){r.innerText="ローカルファイルシステム";return}r.innerText=""}});K(this,"showLoadingState",o=>{const{loading:e,errorCode:r}=o,s=this.findElement("loadingState");if(!!s)switch(e){case v0.Init:s.innerText="";break;case v0.Loading:s.innerText="⏳";break;case v0.Success:s.innerText="✅";break;case v0.Error:s.innerText=`❌ ${this.toErrorMessage(r)}`;break;default:s.innerText="❓";break}});K(this,"onStoreUpdated",o=>{this.toggleSubmitButtonState(o),this.showConnectionFileProvider("targetConnectionFileProvider",o.setting.targetConnection),this.showConnectionFileProvider("sourceConnectionFileProvider",o.setting.sourceConnection),this.showLoadingState(o)})}listenStoreUpdate(o){o.addOnUpdated(this.onStoreUpdated)}}class ba{constructor(){const o=new rn,e=new F0,r=new Tt,s=new A0(o,e,r),x=new ga(s),d=new _a(x);new Ba(d),new wa().listenStoreUpdate(d)}}new ba;
