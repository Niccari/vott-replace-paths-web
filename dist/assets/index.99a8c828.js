var Rt=Object.defineProperty;var Dt=(o,a,e)=>a in o?Rt(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e;var K=(o,a,e)=>(Dt(o,typeof a!="symbol"?a+"":a,e),e);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const x of s)if(x.type==="childList")for(const d of x.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function e(s){const x={};return s.integrity&&(x.integrity=s.integrity),s.referrerpolicy&&(x.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?x.credentials="include":s.crossorigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function r(s){if(s.ep)return;s.ep=!0;const x=e(s);fetch(s.href,x)}})();class qt{async download(a){const e=document.querySelector("#downloader");if(!e)return;const r=URL.createObjectURL(a);e.download=a.name,e.href=r,e.click(),URL.revokeObjectURL(r)}}const e0={Success:0,InvalidZipFile:1,InvalidFileIncluded:2,JSONFormatError:3,ProjectNotFound:4,InvalidFileProvider:5,InvalidAssetType:6,CompressionFailed:7};class l0 extends Error{constructor(e,r){super(r);K(this,"errorCode");this.errorCode=e,this.name=new.target.name,Object.setPrototypeOf(this,new.target.prototype)}}class E0{async loads(a){const e=a.filter(f=>!f.name.startsWith("__")&&!f.name.startsWith(".")),r=E0.findProjectFile(e),s=E0.findAssetFiles(e),x=await this.loadProject(r),d=await this.loadAssets(s);return{project:x,assets:d}}static createNewFile(a,e){return new File([JSON.stringify(a,null,"    ")],e)}toFiles(a){const{project:e,assets:r}=a,s=E0.createNewFile(e,`${e.name}.vott`);return r.map(d=>{const{id:f}=d.asset;return E0.createNewFile(d,`${f}-asset.json`)}).concat([s])}static findProjectFile(a){const e=a.find(r=>r.name.endsWith(".vott"));if(!e)throw new l0(e0.ProjectNotFound);return e}static findAssetFiles(a){return a.filter(e=>!e.name.endsWith(".vott"))}async loadProject(a){return this.loadFile(a)}async loadAssets(a){return Promise.all(a.map(async e=>this.loadFile(e)))}async loadFile(a){const e=await a.text().catch(()=>Promise.reject(new l0(e0.InvalidFileIncluded)));try{return JSON.parse(e)}catch{return Promise.reject(new l0(e0.JSONFormatError))}}}var ve={},Tt=function(o,a,e,r,s){var x=new Worker(ve[a]||(ve[a]=URL.createObjectURL(new Blob([o+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return x.onmessage=function(d){var f=d.data,v=f.$e$;if(v){var t=new Error(v[0]);t.code=v[1],t.stack=v[2],s(t,null)}else s(null,f)},x.postMessage(e,r),x},X=Uint8Array,r0=Uint16Array,P0=Uint32Array,z0=new X([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R0=new X([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U0=new X([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rt=function(o,a){for(var e=new r0(31),r=0;r<31;++r)e[r]=a+=1<<o[r-1];for(var s=new P0(e[30]),r=1;r<30;++r)for(var x=e[r];x<e[r+1];++x)s[x]=x-e[r]<<5|r;return[e,s]},et=rt(z0,2),Zr=et[0],Y0=et[1];Zr[28]=258,Y0[258]=28;var tt=rt(R0,0),nt=tt[0],Ur=tt[1],N0=new r0(32768);for(var Z=0;Z<32768;++Z){var y0=(Z&43690)>>>1|(Z&21845)<<1;y0=(y0&52428)>>>2|(y0&13107)<<2,y0=(y0&61680)>>>4|(y0&3855)<<4,N0[Z]=((y0&65280)>>>8|(y0&255)<<8)>>>1}var o0=function(o,a,e){for(var r=o.length,s=0,x=new r0(a);s<r;++s)o[s]&&++x[o[s]-1];var d=new r0(a);for(s=0;s<a;++s)d[s]=d[s-1]+x[s-1]<<1;var f;if(e){f=new r0(1<<a);var v=15-a;for(s=0;s<r;++s)if(o[s])for(var t=s<<4|o[s],n=a-o[s],u=d[o[s]-1]++<<n,i=u|(1<<n)-1;u<=i;++u)f[N0[u]>>>v]=t}else for(f=new r0(r),s=0;s<r;++s)o[s]&&(f[s]=N0[d[o[s]-1]++]>>>15-o[s]);return f},h0=new X(288);for(var Z=0;Z<144;++Z)h0[Z]=8;for(var Z=144;Z<256;++Z)h0[Z]=9;for(var Z=256;Z<280;++Z)h0[Z]=7;for(var Z=280;Z<288;++Z)h0[Z]=8;var H0=new X(32);for(var Z=0;Z<32;++Z)H0[Z]=5;var at=o0(h0,9,0),ot=o0(h0,9,1),it=o0(H0,5,0),st=o0(H0,5,1),Z0=function(o){for(var a=o[0],e=1;e<o.length;++e)o[e]>a&&(a=o[e]);return a},a0=function(o,a,e){var r=a/8|0;return(o[r]|o[r+1]<<8)>>(a&7)&e},G0=function(o,a){var e=a/8|0;return(o[e]|o[e+1]<<8|o[e+2]<<16)>>(a&7)},$0=function(o){return(o+7)/8|0},B0=function(o,a,e){(a==null||a<0)&&(a=0),(e==null||e>o.length)&&(e=o.length);var r=new(o.BYTES_PER_ELEMENT==2?r0:o.BYTES_PER_ELEMENT==4?P0:X)(e-a);return r.set(o.subarray(a,e)),r},ft=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],V=function(o,a,e){var r=new Error(a||ft[o]);if(r.code=o,Error.captureStackTrace&&Error.captureStackTrace(r,V),!e)throw r;return r},xt=function(o,a,e){var r=o.length;if(!r||e&&e.f&&!e.l)return a||new X(0);var s=!a||e,x=!e||e.i;e||(e={}),a||(a=new X(r*3));var d=function(j){var G=a.length;if(j>G){var L=new X(Math.max(G*2,j));L.set(a),a=L}},f=e.f||0,v=e.p||0,t=e.b||0,n=e.l,u=e.d,i=e.m,c=e.n,l=r*8;do{if(!n){f=a0(o,v,1);var p=a0(o,v+1,3);if(v+=3,p)if(p==1)n=ot,u=st,i=9,c=5;else if(p==2){var y=a0(o,v,31)+257,_=a0(o,v+10,15)+4,m=y+a0(o,v+5,31)+1;v+=14;for(var C=new X(m),A=new X(19),b=0;b<_;++b)A[U0[b]]=a0(o,v+b*3,7);v+=_*3;for(var z=Z0(A),B=(1<<z)-1,k=o0(A,z,1),b=0;b<m;){var S=k[a0(o,v,B)];v+=S&15;var g=S>>>4;if(g<16)C[b++]=g;else{var F=0,D=0;for(g==16?(D=3+a0(o,v,3),v+=2,F=C[b-1]):g==17?(D=3+a0(o,v,7),v+=3):g==18&&(D=11+a0(o,v,127),v+=7);D--;)C[b++]=F}}var q=C.subarray(0,y),T=C.subarray(y);i=Z0(q),c=Z0(T),n=o0(q,i,1),u=o0(T,c,1)}else V(1);else{var g=$0(v)+4,w=o[g-4]|o[g-3]<<8,h=g+w;if(h>r){x&&V(0);break}s&&d(t+w),a.set(o.subarray(g,h),t),e.b=t+=w,e.p=v=h*8,e.f=f;continue}if(v>l){x&&V(0);break}}s&&d(t+131072);for(var W=(1<<i)-1,O=(1<<c)-1,U=v;;U=v){var F=n[G0(o,v)&W],N=F>>>4;if(v+=F&15,v>l){x&&V(0);break}if(F||V(2),N<256)a[t++]=N;else if(N==256){U=v,n=null;break}else{var E=N-254;if(N>264){var b=N-257,P=z0[b];E=a0(o,v,(1<<P)-1)+Zr[b],v+=P}var R=u[G0(o,v)&O],H=R>>>4;R||V(3),v+=R&15;var T=nt[H];if(H>3){var P=R0[H];T+=G0(o,v)&(1<<P)-1,v+=P}if(v>l){x&&V(0);break}s&&d(t+131072);for(var I=t+E;t<I;t+=4)a[t]=a[t-T],a[t+1]=a[t+1-T],a[t+2]=a[t+2-T],a[t+3]=a[t+3-T];t=I}}e.l=n,e.p=U,e.b=t,e.f=f,n&&(f=1,e.m=i,e.d=u,e.n=c)}while(!f);return t==a.length?a:B0(a,0,t)},x0=function(o,a,e){e<<=a&7;var r=a/8|0;o[r]|=e,o[r+1]|=e>>>8},k0=function(o,a,e){e<<=a&7;var r=a/8|0;o[r]|=e,o[r+1]|=e>>>8,o[r+2]|=e>>>16},V0=function(o,a){for(var e=[],r=0;r<o.length;++r)o[r]&&e.push({s:r,f:o[r]});var s=e.length,x=e.slice();if(!s)return[er,0];if(s==1){var d=new X(e[0].s+1);return d[e[0].s]=1,[d,1]}e.sort(function(m,C){return m.f-C.f}),e.push({s:-1,f:25001});var f=e[0],v=e[1],t=0,n=1,u=2;for(e[0]={s:-1,f:f.f+v.f,l:f,r:v};n!=s-1;)f=e[e[t].f<e[u].f?t++:u++],v=e[t!=n&&e[t].f<e[u].f?t++:u++],e[n++]={s:-1,f:f.f+v.f,l:f,r:v};for(var i=x[0].s,r=1;r<s;++r)x[r].s>i&&(i=x[r].s);var c=new r0(i+1),l=Q0(e[n-1],c,0);if(l>a){var r=0,p=0,g=l-a,w=1<<g;for(x.sort(function(C,A){return c[A.s]-c[C.s]||C.f-A.f});r<s;++r){var h=x[r].s;if(c[h]>a)p+=w-(1<<l-c[h]),c[h]=a;else break}for(p>>>=g;p>0;){var y=x[r].s;c[y]<a?p-=1<<a-c[y]++-1:++r}for(;r>=0&&p;--r){var _=x[r].s;c[_]==a&&(--c[_],++p)}l=a}return[new X(c),l]},Q0=function(o,a,e){return o.s==-1?Math.max(Q0(o.l,a,e+1),Q0(o.r,a,e+1)):a[o.s]=e},Nr=function(o){for(var a=o.length;a&&!o[--a];);for(var e=new r0(++a),r=0,s=o[0],x=1,d=function(v){e[r++]=v},f=1;f<=a;++f)if(o[f]==s&&f!=a)++x;else{if(!s&&x>2){for(;x>138;x-=138)d(32754);x>2&&(d(x>10?x-11<<5|28690:x-3<<5|12305),x=0)}else if(x>3){for(d(s),--x;x>6;x-=6)d(8304);x>2&&(d(x-3<<5|8208),x=0)}for(;x--;)d(s);x=1,s=o[f]}return[e.subarray(0,r),a]},A0=function(o,a){for(var e=0,r=0;r<a.length;++r)e+=o[r]*a[r];return e},J0=function(o,a,e){var r=e.length,s=$0(a+2);o[s]=r&255,o[s+1]=r>>>8,o[s+2]=o[s]^255,o[s+3]=o[s+1]^255;for(var x=0;x<r;++x)o[s+x+4]=e[x];return(s+4+r)*8},$r=function(o,a,e,r,s,x,d,f,v,t,n){x0(a,n++,e),++s[256];for(var u=V0(s,15),i=u[0],c=u[1],l=V0(x,15),p=l[0],g=l[1],w=Nr(i),h=w[0],y=w[1],_=Nr(p),m=_[0],C=_[1],A=new r0(19),b=0;b<h.length;++b)A[h[b]&31]++;for(var b=0;b<m.length;++b)A[m[b]&31]++;for(var z=V0(A,7),B=z[0],k=z[1],S=19;S>4&&!B[U0[S-1]];--S);var F=t+5<<3,D=A0(s,h0)+A0(x,H0)+d,q=A0(s,i)+A0(x,p)+d+14+3*S+A0(A,B)+(2*A[16]+3*A[17]+7*A[18]);if(F<=D&&F<=q)return J0(a,n,o.subarray(v,v+t));var T,W,O,U;if(x0(a,n,1+(q<D)),n+=2,q<D){T=o0(i,c,0),W=i,O=o0(p,g,0),U=p;var N=o0(B,k,0);x0(a,n,y-257),x0(a,n+5,C-1),x0(a,n+10,S-4),n+=14;for(var b=0;b<S;++b)x0(a,n+3*b,B[U0[b]]);n+=3*S;for(var E=[h,m],P=0;P<2;++P)for(var R=E[P],b=0;b<R.length;++b){var H=R[b]&31;x0(a,n,N[H]),n+=B[H],H>15&&(x0(a,n,R[b]>>>5&127),n+=R[b]>>>12)}}else T=at,W=h0,O=it,U=H0;for(var b=0;b<f;++b)if(r[b]>255){var H=r[b]>>>18&31;k0(a,n,T[H+257]),n+=W[H+257],H>7&&(x0(a,n,r[b]>>>23&31),n+=z0[H]);var I=r[b]&31;k0(a,n,O[I]),n+=U[I],I>3&&(k0(a,n,r[b]>>>5&8191),n+=R0[I])}else k0(a,n,T[r[b]]),n+=W[r[b]];return k0(a,n,T[256]),n+W[256]},ct=new P0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),er=new X(0),ut=function(o,a,e,r,s,x){var d=o.length,f=new X(r+d+5*(1+Math.ceil(d/7e3))+s),v=f.subarray(r,f.length-s),t=0;if(!a||d<8)for(var n=0;n<=d;n+=65535){var u=n+65535;u>=d&&(v[t>>3]=x),t=J0(v,t+1,o.subarray(n,u))}else{for(var i=ct[a-1],c=i>>>13,l=i&8191,p=(1<<e)-1,g=new r0(32768),w=new r0(p+1),h=Math.ceil(e/3),y=2*h,_=function(Y){return(o[Y]^o[Y+1]<<h^o[Y+2]<<y)&p},m=new P0(25e3),C=new r0(288),A=new r0(32),b=0,z=0,n=0,B=0,k=0,S=0;n<d;++n){var F=_(n),D=n&32767,q=w[F];if(g[D]=q,w[F]=D,k<=n){var T=d-n;if((b>7e3||B>24576)&&T>423){t=$r(o,v,0,m,C,A,z,B,S,n-S,t),B=b=z=0,S=n;for(var W=0;W<286;++W)C[W]=0;for(var W=0;W<30;++W)A[W]=0}var O=2,U=0,N=l,E=D-q&32767;if(T>2&&F==_(n-E))for(var P=Math.min(c,T)-1,R=Math.min(32767,n),H=Math.min(258,T);E<=R&&--N&&D!=q;){if(o[n+O]==o[n+O-E]){for(var I=0;I<H&&o[n+I]==o[n+I-E];++I);if(I>O){if(O=I,U=E,I>P)break;for(var j=Math.min(E,I-2),G=0,W=0;W<j;++W){var L=n-E+W+32768&32767,_0=g[L],v0=L-_0+32768&32767;v0>G&&(G=v0,q=L)}}}D=q,q=g[D],E+=D-q+32768&32767}if(U){m[B++]=268435456|Y0[O]<<18|Ur[U];var b0=Y0[O]&31,d0=Ur[U]&31;z+=z0[b0]+R0[d0],++C[257+b0],++A[d0],k=n+O,++b}else m[B++]=o[n],++C[o[n]]}}t=$r(o,v,x,m,C,A,z,B,S,n-S,t),!x&&t&7&&(t=J0(v,t+1,er))}return B0(f,0,r+$0(t)+s)},Wt=function(){for(var o=new Int32Array(256),a=0;a<256;++a){for(var e=a,r=9;--r;)e=(e&1&&-306674912)^e>>>1;o[a]=e}return o}(),Lt=function(){var o=-1;return{p:function(a){for(var e=o,r=0;r<a.length;++r)e=Wt[e&255^a[r]]^e>>>8;o=e},d:function(){return~o}}},vt=function(o,a,e,r,s){return ut(o,a.level==null?6:a.level,a.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(o.length)))*1.5):12+a.mem,e,r,!s)},Gr=function(o,a){var e={};for(var r in o)e[r]=o[r];for(var r in a)e[r]=a[r];return e},le=function(o,a,e){for(var r=o(),s=o.toString(),x=s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).replace(/\s+/g,"").split(","),d=0;d<r.length;++d){var f=r[d],v=x[d];if(typeof f=="function"){a+=";"+v+"=";var t=f.toString();if(f.prototype)if(t.indexOf("[native code]")!=-1){var n=t.indexOf(" ",8)+1;a+=t.slice(n,t.indexOf("(",n))}else{a+=t;for(var u in f.prototype)a+=";"+v+".prototype."+u+"="+f.prototype[u].toString()}else a+=t}else e[v]=f}return[a,e]},X0=[],Ot=function(o){var a=[];for(var e in o)o[e].buffer&&a.push((o[e]=new o[e].constructor(o[e])).buffer);return a},It=function(o,a,e,r){var s;if(!X0[e]){for(var x="",d={},f=o.length-1,v=0;v<f;++v)s=le(o[v],x,d),x=s[0],d=s[1];X0[e]=le(o[f],x,d)}var t=Gr({},X0[e][1]);return Tt(X0[e][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+a.toString()+"}",e,t,Ot(t),r)},Ut=function(){return[X,r0,P0,z0,R0,U0,Zr,nt,ot,st,N0,ft,o0,Z0,a0,G0,$0,B0,V,xt,Yr,tr,lt]},Nt=function(){return[X,r0,P0,z0,R0,U0,Y0,Ur,at,h0,it,H0,N0,ct,er,o0,x0,k0,V0,Q0,Nr,A0,J0,$r,$0,B0,ut,vt,Vr,tr]},tr=function(o){return postMessage(o,[o.buffer])},lt=function(o){return o&&o.size&&new X(o.size)},ht=function(o,a,e,r,s,x){var d=It(e,r,s,function(f,v){d.terminate(),x(f,v)});return d.postMessage([o,a],a.consume?[o.buffer]:[]),function(){d.terminate()}},c0=function(o,a){return o[a]|o[a+1]<<8},f0=function(o,a){return(o[a]|o[a+1]<<8|o[a+2]<<16|o[a+3]<<24)>>>0},or=function(o,a){return f0(o,a)+f0(o,a+4)*4294967296},Q=function(o,a,e){for(;e;++a)o[a]=e,e>>>=8};function $t(o,a,e){return e||(e=a,a={}),typeof e!="function"&&V(7),ht(o,a,[Nt],function(r){return tr(Vr(r.data[0],r.data[1]))},0,e)}function Vr(o,a){return vt(o,a||{},0,0)}function Mt(o,a,e){return e||(e=a,a={}),typeof e!="function"&&V(7),ht(o,a,[Ut],function(r){return tr(Yr(r.data[0],lt(r.data[1])))},1,e)}function Yr(o,a){return xt(o,a)}var dt=function(o,a,e,r){for(var s in o){var x=o[s],d=a+s,f=r;Array.isArray(x)&&(f=Gr(r,x[1]),x=x[0]),x instanceof X?e[d]=[x,f]:(e[d+="/"]=[new X(0),f],dt(x,d,e,r))}},he=typeof TextEncoder<"u"&&new TextEncoder,Mr=typeof TextDecoder<"u"&&new TextDecoder,jt=0;try{Mr.decode(er,{stream:!0}),jt=1}catch{}var Kt=function(o){for(var a="",e=0;;){var r=o[e++],s=(r>127)+(r>223)+(r>239);if(e+s>o.length)return[a,B0(o,e-1)];s?s==3?(r=((r&15)<<18|(o[e++]&63)<<12|(o[e++]&63)<<6|o[e++]&63)-65536,a+=String.fromCharCode(55296|r>>10,56320|r&1023)):s&1?a+=String.fromCharCode((r&31)<<6|o[e++]&63):a+=String.fromCharCode((r&15)<<12|(o[e++]&63)<<6|o[e++]&63):a+=String.fromCharCode(r)}};function de(o,a){if(a){for(var e=new X(o.length),r=0;r<o.length;++r)e[r]=o.charCodeAt(r);return e}if(he)return he.encode(o);for(var s=o.length,x=new X(o.length+(o.length>>1)),d=0,f=function(n){x[d++]=n},r=0;r<s;++r){if(d+5>x.length){var v=new X(d+8+(s-r<<1));v.set(x),x=v}var t=o.charCodeAt(r);t<128||a?f(t):t<2048?(f(192|t>>6),f(128|t&63)):t>55295&&t<57344?(t=65536+(t&1023<<10)|o.charCodeAt(++r)&1023,f(240|t>>18),f(128|t>>12&63),f(128|t>>6&63),f(128|t&63)):(f(224|t>>12),f(128|t>>6&63),f(128|t&63))}return B0(x,0,d)}function Xt(o,a){if(a){for(var e="",r=0;r<o.length;r+=16384)e+=String.fromCharCode.apply(null,o.subarray(r,r+16384));return e}else{if(Mr)return Mr.decode(o);var s=Kt(o),x=s[0],d=s[1];return d.length&&V(8),x}}var Zt=function(o,a){return a+30+c0(o,a+26)+c0(o,a+28)},Gt=function(o,a,e){var r=c0(o,a+28),s=Xt(o.subarray(a+46,a+46+r),!(c0(o,a+8)&2048)),x=a+46+r,d=f0(o,a+20),f=e&&d==4294967295?Vt(o,x):[d,f0(o,a+24),f0(o,a+42)],v=f[0],t=f[1],n=f[2];return[c0(o,a+10),v,t,s,x+c0(o,a+30)+c0(o,a+32),n]},Vt=function(o,a){for(;c0(o,a)!=1;a+=4+c0(o,a+2));return[or(o,a+12),or(o,a+4),or(o,a+20)]},jr=function(o){var a=0;if(o)for(var e in o){var r=o[e].length;r>65535&&V(9),a+=r+4}return a},pe=function(o,a,e,r,s,x,d,f){var v=r.length,t=e.extra,n=f&&f.length,u=jr(t);Q(o,a,d!=null?33639248:67324752),a+=4,d!=null&&(o[a++]=20,o[a++]=e.os),o[a]=20,a+=2,o[a++]=e.flag<<1|(x<0&&8),o[a++]=s&&8,o[a++]=e.compression&255,o[a++]=e.compression>>8;var i=new Date(e.mtime==null?Date.now():e.mtime),c=i.getFullYear()-1980;if((c<0||c>119)&&V(10),Q(o,a,c<<25|i.getMonth()+1<<21|i.getDate()<<16|i.getHours()<<11|i.getMinutes()<<5|i.getSeconds()>>>1),a+=4,x!=-1&&(Q(o,a,e.crc),Q(o,a+4,x<0?-x-2:x),Q(o,a+8,e.size)),Q(o,a+12,v),Q(o,a+14,u),a+=16,d!=null&&(Q(o,a,n),Q(o,a+6,e.attrs),Q(o,a+10,d),a+=14),o.set(r,a),a+=v,u)for(var l in t){var p=t[l],g=p.length;Q(o,a,+l),Q(o,a+2,g),o.set(p,a+4),a+=4+g}return n&&(o.set(f,a),a+=n),a},Yt=function(o,a,e,r,s){Q(o,a,101010256),Q(o,a+8,e),Q(o,a+10,e),Q(o,a+12,r),Q(o,a+16,s)};function Qt(o,a,e){e||(e=a,a={}),typeof e!="function"&&V(7);var r={};dt(o,"",r,a);var s=Object.keys(r),x=s.length,d=0,f=0,v=x,t=new Array(x),n=[],u=function(){for(var g=0;g<n.length;++g)n[g]()},i=function(g,w){rr(function(){e(g,w)})};rr(function(){i=e});var c=function(){var g=new X(f+22),w=d,h=f-d;f=0;for(var y=0;y<v;++y){var _=t[y];try{var m=_.c.length;pe(g,f,_,_.f,_.u,m);var C=30+_.f.length+jr(_.extra),A=f+C;g.set(_.c,A),pe(g,d,_,_.f,_.u,m,f,_.m),d+=16+C+(_.m?_.m.length:0),f=A+m}catch(b){return i(b,null)}}Yt(g,d,t.length,h,w),i(null,g)};x||c();for(var l=function(g){var w=s[g],h=r[w],y=h[0],_=h[1],m=Lt(),C=y.length;m.p(y);var A=de(w),b=A.length,z=_.comment,B=z&&de(z),k=B&&B.length,S=jr(_.extra),F=_.level==0?0:8,D=function(q,T){if(q)u(),i(q,null);else{var W=T.length;t[g]=Gr(_,{size:C,crc:m.d(),c:T,f:A,m:B,u:b!=w.length||B&&z.length!=k,compression:F}),d+=30+b+S+W,f+=76+2*(b+S)+(k||0)+W,--x||c()}};if(b>65535&&D(V(11,0,1),null),!F)D(null,y);else if(C<16e4)try{D(null,Vr(y,_))}catch(q){D(q,null)}else n.push($t(y,_,D))},p=0;p<v;++p)l(p);return u}var rr=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(o){o()};function Jt(o,a,e){e||(e=a,a={}),typeof e!="function"&&V(7);var r=[],s=function(){for(var g=0;g<r.length;++g)r[g]()},x={},d=function(g,w){rr(function(){e(g,w)})};rr(function(){d=e});for(var f=o.length-22;f0(o,f)!=101010256;--f)if(!f||o.length-f>65558)return d(V(13,0,1),null),s;var v=c0(o,f+8);if(v){var t=v,n=f0(o,f+16),u=n==4294967295||t==65535;if(u){var i=f0(o,f-12);u=f0(o,i)==101075792,u&&(t=v=f0(o,i+32),n=f0(o,i+48))}for(var c=a&&a.filter,l=function(g){var w=Gt(o,n,u),h=w[0],y=w[1],_=w[2],m=w[3],C=w[4],A=w[5],b=Zt(o,A);n=C;var z=function(k,S){k?(s(),d(k,null)):(S&&(x[m]=S),--v||d(null,x))};if(!c||c({name:m,size:y,originalSize:_,compression:h}))if(!h)z(null,B0(o,b,b+y));else if(h==8){var B=o.subarray(b,b+y);if(y<32e4)try{z(null,Yr(B,new X(_)))}catch(k){z(k,null)}else r.push(Mt(B,{size:_},z))}else z(V(14,"unknown compression type "+h,1),null);else z(null,null)},p=0;p<t;++p)l(p)}else d(null,{});return s}class rn{async compress(a,e){try{const r={},s=a.map(async d=>{const f=await d.arrayBuffer();r[d.name]=new Uint8Array(f)});await Promise.all(s);const x=await new Promise((d,f)=>{Qt(r,{level:9},(v,t)=>{v&&f(v),d(t)})});return new File([x],e)}catch(r){return Promise.reject(new Error(`compress failed: ${r}`))}}async uncompress(a){try{const e=await a.arrayBuffer();return await new Promise((r,s)=>{Jt(new Uint8Array(e),{},(x,d)=>{x&&s(x);const f=Object.entries(d).map(async([v,t])=>new File([t],v));r(Promise.all(f))})})}catch(e){return Promise.reject(new Error(`uncompress failed: ${e}`))}}}var $=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function en(o){var a=o.default;if(typeof a=="function"){var e=function(){return a.apply(this,arguments)};e.prototype=a.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(o).forEach(function(r){var s=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return o[r]}})}),e}var Kr={exports:{}},pt={exports:{}};(function(){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(e,r){return e<<r|e>>>32-r},rotr:function(e,r){return e<<32-r|e>>>r},endian:function(e){if(e.constructor==Number)return a.rotl(e,8)&16711935|a.rotl(e,24)&4278255360;for(var r=0;r<e.length;r++)e[r]=a.endian(e[r]);return e},randomBytes:function(e){for(var r=[];e>0;e--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(e){for(var r=[],s=0,x=0;s<e.length;s++,x+=8)r[x>>>5]|=e[s]<<24-x%32;return r},wordsToBytes:function(e){for(var r=[],s=0;s<e.length*32;s+=8)r.push(e[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(e){for(var r=[],s=0;s<e.length;s++)r.push((e[s]>>>4).toString(16)),r.push((e[s]&15).toString(16));return r.join("")},hexToBytes:function(e){for(var r=[],s=0;s<e.length;s+=2)r.push(parseInt(e.substr(s,2),16));return r},bytesToBase64:function(e){for(var r=[],s=0;s<e.length;s+=3)for(var x=e[s]<<16|e[s+1]<<8|e[s+2],d=0;d<4;d++)s*8+d*6<=e.length*8?r.push(o.charAt(x>>>6*(3-d)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,x=0;s<e.length;x=++s%4)x!=0&&r.push((o.indexOf(e.charAt(s-1))&Math.pow(2,-2*x+8)-1)<<x*2|o.indexOf(e.charAt(s))>>>6-x*2);return r}};pt.exports=a})();var Xr={utf8:{stringToBytes:function(o){return Xr.bin.stringToBytes(unescape(encodeURIComponent(o)))},bytesToString:function(o){return decodeURIComponent(escape(Xr.bin.bytesToString(o)))}},bin:{stringToBytes:function(o){for(var a=[],e=0;e<o.length;e++)a.push(o.charCodeAt(e)&255);return a},bytesToString:function(o){for(var a=[],e=0;e<o.length;e++)a.push(String.fromCharCode(o[e]));return a.join("")}}},ge=Xr;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var tn=function(o){return o!=null&&(gt(o)||nn(o)||!!o._isBuffer)};function gt(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function nn(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&gt(o.slice(0,0))}(function(){var o=pt.exports,a=ge.utf8,e=tn,r=ge.bin,s=function(x,d){x.constructor==String?d&&d.encoding==="binary"?x=r.stringToBytes(x):x=a.stringToBytes(x):e(x)?x=Array.prototype.slice.call(x,0):!Array.isArray(x)&&x.constructor!==Uint8Array&&(x=x.toString());for(var f=o.bytesToWords(x),v=x.length*8,t=1732584193,n=-271733879,u=-1732584194,i=271733878,c=0;c<f.length;c++)f[c]=(f[c]<<8|f[c]>>>24)&16711935|(f[c]<<24|f[c]>>>8)&4278255360;f[v>>>5]|=128<<v%32,f[(v+64>>>9<<4)+14]=v;for(var l=s._ff,p=s._gg,g=s._hh,w=s._ii,c=0;c<f.length;c+=16){var h=t,y=n,_=u,m=i;t=l(t,n,u,i,f[c+0],7,-680876936),i=l(i,t,n,u,f[c+1],12,-389564586),u=l(u,i,t,n,f[c+2],17,606105819),n=l(n,u,i,t,f[c+3],22,-1044525330),t=l(t,n,u,i,f[c+4],7,-176418897),i=l(i,t,n,u,f[c+5],12,1200080426),u=l(u,i,t,n,f[c+6],17,-1473231341),n=l(n,u,i,t,f[c+7],22,-45705983),t=l(t,n,u,i,f[c+8],7,1770035416),i=l(i,t,n,u,f[c+9],12,-1958414417),u=l(u,i,t,n,f[c+10],17,-42063),n=l(n,u,i,t,f[c+11],22,-1990404162),t=l(t,n,u,i,f[c+12],7,1804603682),i=l(i,t,n,u,f[c+13],12,-40341101),u=l(u,i,t,n,f[c+14],17,-1502002290),n=l(n,u,i,t,f[c+15],22,1236535329),t=p(t,n,u,i,f[c+1],5,-165796510),i=p(i,t,n,u,f[c+6],9,-1069501632),u=p(u,i,t,n,f[c+11],14,643717713),n=p(n,u,i,t,f[c+0],20,-373897302),t=p(t,n,u,i,f[c+5],5,-701558691),i=p(i,t,n,u,f[c+10],9,38016083),u=p(u,i,t,n,f[c+15],14,-660478335),n=p(n,u,i,t,f[c+4],20,-405537848),t=p(t,n,u,i,f[c+9],5,568446438),i=p(i,t,n,u,f[c+14],9,-1019803690),u=p(u,i,t,n,f[c+3],14,-187363961),n=p(n,u,i,t,f[c+8],20,1163531501),t=p(t,n,u,i,f[c+13],5,-1444681467),i=p(i,t,n,u,f[c+2],9,-51403784),u=p(u,i,t,n,f[c+7],14,1735328473),n=p(n,u,i,t,f[c+12],20,-1926607734),t=g(t,n,u,i,f[c+5],4,-378558),i=g(i,t,n,u,f[c+8],11,-2022574463),u=g(u,i,t,n,f[c+11],16,1839030562),n=g(n,u,i,t,f[c+14],23,-35309556),t=g(t,n,u,i,f[c+1],4,-1530992060),i=g(i,t,n,u,f[c+4],11,1272893353),u=g(u,i,t,n,f[c+7],16,-155497632),n=g(n,u,i,t,f[c+10],23,-1094730640),t=g(t,n,u,i,f[c+13],4,681279174),i=g(i,t,n,u,f[c+0],11,-358537222),u=g(u,i,t,n,f[c+3],16,-722521979),n=g(n,u,i,t,f[c+6],23,76029189),t=g(t,n,u,i,f[c+9],4,-640364487),i=g(i,t,n,u,f[c+12],11,-421815835),u=g(u,i,t,n,f[c+15],16,530742520),n=g(n,u,i,t,f[c+2],23,-995338651),t=w(t,n,u,i,f[c+0],6,-198630844),i=w(i,t,n,u,f[c+7],10,1126891415),u=w(u,i,t,n,f[c+14],15,-1416354905),n=w(n,u,i,t,f[c+5],21,-57434055),t=w(t,n,u,i,f[c+12],6,1700485571),i=w(i,t,n,u,f[c+3],10,-1894986606),u=w(u,i,t,n,f[c+10],15,-1051523),n=w(n,u,i,t,f[c+1],21,-2054922799),t=w(t,n,u,i,f[c+8],6,1873313359),i=w(i,t,n,u,f[c+15],10,-30611744),u=w(u,i,t,n,f[c+6],15,-1560198380),n=w(n,u,i,t,f[c+13],21,1309151649),t=w(t,n,u,i,f[c+4],6,-145523070),i=w(i,t,n,u,f[c+11],10,-1120210379),u=w(u,i,t,n,f[c+2],15,718787259),n=w(n,u,i,t,f[c+9],21,-343485551),t=t+h>>>0,n=n+y>>>0,u=u+_>>>0,i=i+m>>>0}return o.endian([t,n,u,i])};s._ff=function(x,d,f,v,t,n,u){var i=x+(d&f|~d&v)+(t>>>0)+u;return(i<<n|i>>>32-n)+d},s._gg=function(x,d,f,v,t,n,u){var i=x+(d&v|f&~v)+(t>>>0)+u;return(i<<n|i>>>32-n)+d},s._hh=function(x,d,f,v,t,n,u){var i=x+(d^f^v)+(t>>>0)+u;return(i<<n|i>>>32-n)+d},s._ii=function(x,d,f,v,t,n,u){var i=x+(f^(d|~v))+(t>>>0)+u;return(i<<n|i>>>32-n)+d},s._blocksize=16,s._digestsize=16,Kr.exports=function(x,d){if(x==null)throw new Error("Illegal argument "+x);var f=o.wordsToBytes(s(x,d));return d&&d.asBytes?f:d&&d.asString?r.bytesToString(f):o.bytesToHex(f)}})();var S0={exports:{}};function an(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ir={exports:{}};const on={},sn=Object.freeze(Object.defineProperty({__proto__:null,default:on},Symbol.toStringTag,{value:"Module"})),fn=en(sn);var ye;function M(){return ye||(ye=1,function(o,a){(function(e,r){o.exports=r()})($,function(){var e=e||function(r,s){var x;if(typeof window<"u"&&window.crypto&&(x=window.crypto),typeof self<"u"&&self.crypto&&(x=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(x=globalThis.crypto),!x&&typeof window<"u"&&window.msCrypto&&(x=window.msCrypto),!x&&typeof $<"u"&&$.crypto&&(x=$.crypto),!x&&typeof an=="function")try{x=fn}catch{}var d=function(){if(x){if(typeof x.getRandomValues=="function")try{return x.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof x.randomBytes=="function")try{return x.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},f=Object.create||function(){function h(){}return function(y){var _;return h.prototype=y,_=new h,h.prototype=null,_}}(),v={},t=v.lib={},n=t.Base=function(){return{extend:function(h){var y=f(this);return h&&y.mixIn(h),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var y in h)h.hasOwnProperty(y)&&(this[y]=h[y]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=t.WordArray=n.extend({init:function(h,y){h=this.words=h||[],y!=s?this.sigBytes=y:this.sigBytes=h.length*4},toString:function(h){return(h||c).stringify(this)},concat:function(h){var y=this.words,_=h.words,m=this.sigBytes,C=h.sigBytes;if(this.clamp(),m%4)for(var A=0;A<C;A++){var b=_[A>>>2]>>>24-A%4*8&255;y[m+A>>>2]|=b<<24-(m+A)%4*8}else for(var z=0;z<C;z+=4)y[m+z>>>2]=_[z>>>2];return this.sigBytes+=C,this},clamp:function(){var h=this.words,y=this.sigBytes;h[y>>>2]&=4294967295<<32-y%4*8,h.length=r.ceil(y/4)},clone:function(){var h=n.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var y=[],_=0;_<h;_+=4)y.push(d());return new u.init(y,h)}}),i=v.enc={},c=i.Hex={stringify:function(h){for(var y=h.words,_=h.sigBytes,m=[],C=0;C<_;C++){var A=y[C>>>2]>>>24-C%4*8&255;m.push((A>>>4).toString(16)),m.push((A&15).toString(16))}return m.join("")},parse:function(h){for(var y=h.length,_=[],m=0;m<y;m+=2)_[m>>>3]|=parseInt(h.substr(m,2),16)<<24-m%8*4;return new u.init(_,y/2)}},l=i.Latin1={stringify:function(h){for(var y=h.words,_=h.sigBytes,m=[],C=0;C<_;C++){var A=y[C>>>2]>>>24-C%4*8&255;m.push(String.fromCharCode(A))}return m.join("")},parse:function(h){for(var y=h.length,_=[],m=0;m<y;m++)_[m>>>2]|=(h.charCodeAt(m)&255)<<24-m%4*8;return new u.init(_,y)}},p=i.Utf8={stringify:function(h){try{return decodeURIComponent(escape(l.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return l.parse(unescape(encodeURIComponent(h)))}},g=t.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=p.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var y,_=this._data,m=_.words,C=_.sigBytes,A=this.blockSize,b=A*4,z=C/b;h?z=r.ceil(z):z=r.max((z|0)-this._minBufferSize,0);var B=z*A,k=r.min(B*4,C);if(B){for(var S=0;S<B;S+=A)this._doProcessBlock(m,S);y=m.splice(0,B),_.sigBytes-=k}return new u.init(y,k)},clone:function(){var h=n.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});t.Hasher=g.extend({cfg:n.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(h){return function(y,_){return new h.init(_).finalize(y)}},_createHmacHelper:function(h){return function(y,_){return new w.HMAC.init(h,_).finalize(y)}}});var w=v.algo={};return v}(Math);return e})}(ir)),ir.exports}var sr={exports:{}},_e;function nr(){return _e||(_e=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){return function(r){var s=e,x=s.lib,d=x.Base,f=x.WordArray,v=s.x64={};v.Word=d.extend({init:function(t,n){this.high=t,this.low=n}}),v.WordArray=d.extend({init:function(t,n){t=this.words=t||[],n!=r?this.sigBytes=n:this.sigBytes=t.length*8},toX32:function(){for(var t=this.words,n=t.length,u=[],i=0;i<n;i++){var c=t[i];u.push(c.high),u.push(c.low)}return f.create(u,this.sigBytes)},clone:function(){for(var t=d.clone.call(this),n=t.words=this.words.slice(0),u=n.length,i=0;i<u;i++)n[i]=n[i].clone();return t}})}(),e})}(sr)),sr.exports}var fr={exports:{}},Be;function xn(){return Be||(Be=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){return function(){if(typeof ArrayBuffer=="function"){var r=e,s=r.lib,x=s.WordArray,d=x.init,f=x.init=function(v){if(v instanceof ArrayBuffer&&(v=new Uint8Array(v)),(v instanceof Int8Array||typeof Uint8ClampedArray<"u"&&v instanceof Uint8ClampedArray||v instanceof Int16Array||v instanceof Uint16Array||v instanceof Int32Array||v instanceof Uint32Array||v instanceof Float32Array||v instanceof Float64Array)&&(v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength)),v instanceof Uint8Array){for(var t=v.byteLength,n=[],u=0;u<t;u++)n[u>>>2]|=v[u]<<24-u%4*8;d.call(this,n,t)}else d.apply(this,arguments)};f.prototype=x}}(),e.lib.WordArray})}(fr)),fr.exports}var xr={exports:{}},we;function cn(){return we||(we=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=r.enc;d.Utf16=d.Utf16BE={stringify:function(v){for(var t=v.words,n=v.sigBytes,u=[],i=0;i<n;i+=2){var c=t[i>>>2]>>>16-i%4*8&65535;u.push(String.fromCharCode(c))}return u.join("")},parse:function(v){for(var t=v.length,n=[],u=0;u<t;u++)n[u>>>1]|=v.charCodeAt(u)<<16-u%2*16;return x.create(n,t*2)}},d.Utf16LE={stringify:function(v){for(var t=v.words,n=v.sigBytes,u=[],i=0;i<n;i+=2){var c=f(t[i>>>2]>>>16-i%4*8&65535);u.push(String.fromCharCode(c))}return u.join("")},parse:function(v){for(var t=v.length,n=[],u=0;u<t;u++)n[u>>>1]|=f(v.charCodeAt(u)<<16-u%2*16);return x.create(n,t*2)}};function f(v){return v<<8&4278255360|v>>>8&16711935}}(),e.enc.Utf16})}(xr)),xr.exports}var cr={exports:{}},be;function D0(){return be||(be=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=r.enc;d.Base64={stringify:function(v){var t=v.words,n=v.sigBytes,u=this._map;v.clamp();for(var i=[],c=0;c<n;c+=3)for(var l=t[c>>>2]>>>24-c%4*8&255,p=t[c+1>>>2]>>>24-(c+1)%4*8&255,g=t[c+2>>>2]>>>24-(c+2)%4*8&255,w=l<<16|p<<8|g,h=0;h<4&&c+h*.75<n;h++)i.push(u.charAt(w>>>6*(3-h)&63));var y=u.charAt(64);if(y)for(;i.length%4;)i.push(y);return i.join("")},parse:function(v){var t=v.length,n=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var i=0;i<n.length;i++)u[n.charCodeAt(i)]=i}var c=n.charAt(64);if(c){var l=v.indexOf(c);l!==-1&&(t=l)}return f(v,t,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function f(v,t,n){for(var u=[],i=0,c=0;c<t;c++)if(c%4){var l=n[v.charCodeAt(c-1)]<<c%4*2,p=n[v.charCodeAt(c)]>>>6-c%4*2,g=l|p;u[i>>>2]|=g<<24-i%4*8,i++}return x.create(u,i)}}(),e.enc.Base64})}(cr)),cr.exports}var ur={exports:{}},Ce;function un(){return Ce||(Ce=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=r.enc;d.Base64url={stringify:function(v,t=!0){var n=v.words,u=v.sigBytes,i=t?this._safe_map:this._map;v.clamp();for(var c=[],l=0;l<u;l+=3)for(var p=n[l>>>2]>>>24-l%4*8&255,g=n[l+1>>>2]>>>24-(l+1)%4*8&255,w=n[l+2>>>2]>>>24-(l+2)%4*8&255,h=p<<16|g<<8|w,y=0;y<4&&l+y*.75<u;y++)c.push(i.charAt(h>>>6*(3-y)&63));var _=i.charAt(64);if(_)for(;c.length%4;)c.push(_);return c.join("")},parse:function(v,t=!0){var n=v.length,u=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var c=0;c<u.length;c++)i[u.charCodeAt(c)]=c}var l=u.charAt(64);if(l){var p=v.indexOf(l);p!==-1&&(n=p)}return f(v,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function f(v,t,n){for(var u=[],i=0,c=0;c<t;c++)if(c%4){var l=n[v.charCodeAt(c-1)]<<c%4*2,p=n[v.charCodeAt(c)]>>>6-c%4*2,g=l|p;u[i>>>2]|=g<<24-i%4*8,i++}return x.create(u,i)}}(),e.enc.Base64url})}(ur)),ur.exports}var vr={exports:{}},me;function q0(){return me||(me=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){return function(r){var s=e,x=s.lib,d=x.WordArray,f=x.Hasher,v=s.algo,t=[];(function(){for(var p=0;p<64;p++)t[p]=r.abs(r.sin(p+1))*4294967296|0})();var n=v.MD5=f.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,g){for(var w=0;w<16;w++){var h=g+w,y=p[h];p[h]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var _=this._hash.words,m=p[g+0],C=p[g+1],A=p[g+2],b=p[g+3],z=p[g+4],B=p[g+5],k=p[g+6],S=p[g+7],F=p[g+8],D=p[g+9],q=p[g+10],T=p[g+11],W=p[g+12],O=p[g+13],U=p[g+14],N=p[g+15],E=_[0],P=_[1],R=_[2],H=_[3];E=u(E,P,R,H,m,7,t[0]),H=u(H,E,P,R,C,12,t[1]),R=u(R,H,E,P,A,17,t[2]),P=u(P,R,H,E,b,22,t[3]),E=u(E,P,R,H,z,7,t[4]),H=u(H,E,P,R,B,12,t[5]),R=u(R,H,E,P,k,17,t[6]),P=u(P,R,H,E,S,22,t[7]),E=u(E,P,R,H,F,7,t[8]),H=u(H,E,P,R,D,12,t[9]),R=u(R,H,E,P,q,17,t[10]),P=u(P,R,H,E,T,22,t[11]),E=u(E,P,R,H,W,7,t[12]),H=u(H,E,P,R,O,12,t[13]),R=u(R,H,E,P,U,17,t[14]),P=u(P,R,H,E,N,22,t[15]),E=i(E,P,R,H,C,5,t[16]),H=i(H,E,P,R,k,9,t[17]),R=i(R,H,E,P,T,14,t[18]),P=i(P,R,H,E,m,20,t[19]),E=i(E,P,R,H,B,5,t[20]),H=i(H,E,P,R,q,9,t[21]),R=i(R,H,E,P,N,14,t[22]),P=i(P,R,H,E,z,20,t[23]),E=i(E,P,R,H,D,5,t[24]),H=i(H,E,P,R,U,9,t[25]),R=i(R,H,E,P,b,14,t[26]),P=i(P,R,H,E,F,20,t[27]),E=i(E,P,R,H,O,5,t[28]),H=i(H,E,P,R,A,9,t[29]),R=i(R,H,E,P,S,14,t[30]),P=i(P,R,H,E,W,20,t[31]),E=c(E,P,R,H,B,4,t[32]),H=c(H,E,P,R,F,11,t[33]),R=c(R,H,E,P,T,16,t[34]),P=c(P,R,H,E,U,23,t[35]),E=c(E,P,R,H,C,4,t[36]),H=c(H,E,P,R,z,11,t[37]),R=c(R,H,E,P,S,16,t[38]),P=c(P,R,H,E,q,23,t[39]),E=c(E,P,R,H,O,4,t[40]),H=c(H,E,P,R,m,11,t[41]),R=c(R,H,E,P,b,16,t[42]),P=c(P,R,H,E,k,23,t[43]),E=c(E,P,R,H,D,4,t[44]),H=c(H,E,P,R,W,11,t[45]),R=c(R,H,E,P,N,16,t[46]),P=c(P,R,H,E,A,23,t[47]),E=l(E,P,R,H,m,6,t[48]),H=l(H,E,P,R,S,10,t[49]),R=l(R,H,E,P,U,15,t[50]),P=l(P,R,H,E,B,21,t[51]),E=l(E,P,R,H,W,6,t[52]),H=l(H,E,P,R,b,10,t[53]),R=l(R,H,E,P,q,15,t[54]),P=l(P,R,H,E,C,21,t[55]),E=l(E,P,R,H,F,6,t[56]),H=l(H,E,P,R,N,10,t[57]),R=l(R,H,E,P,k,15,t[58]),P=l(P,R,H,E,O,21,t[59]),E=l(E,P,R,H,z,6,t[60]),H=l(H,E,P,R,T,10,t[61]),R=l(R,H,E,P,A,15,t[62]),P=l(P,R,H,E,D,21,t[63]),_[0]=_[0]+E|0,_[1]=_[1]+P|0,_[2]=_[2]+R|0,_[3]=_[3]+H|0},_doFinalize:function(){var p=this._data,g=p.words,w=this._nDataBytes*8,h=p.sigBytes*8;g[h>>>5]|=128<<24-h%32;var y=r.floor(w/4294967296),_=w;g[(h+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,g[(h+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var m=this._hash,C=m.words,A=0;A<4;A++){var b=C[A];C[A]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return m},clone:function(){var p=f.clone.call(this);return p._hash=this._hash.clone(),p}});function u(p,g,w,h,y,_,m){var C=p+(g&w|~g&h)+y+m;return(C<<_|C>>>32-_)+g}function i(p,g,w,h,y,_,m){var C=p+(g&h|w&~h)+y+m;return(C<<_|C>>>32-_)+g}function c(p,g,w,h,y,_,m){var C=p+(g^w^h)+y+m;return(C<<_|C>>>32-_)+g}function l(p,g,w,h,y,_,m){var C=p+(w^(g|~h))+y+m;return(C<<_|C>>>32-_)+g}s.MD5=f._createHelper(n),s.HmacMD5=f._createHmacHelper(n)}(Math),e.MD5})}(vr)),vr.exports}var lr={exports:{}},ke;function Qr(){return ke||(ke=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=s.Hasher,f=r.algo,v=[],t=f.SHA1=d.extend({_doReset:function(){this._hash=new x.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,u){for(var i=this._hash.words,c=i[0],l=i[1],p=i[2],g=i[3],w=i[4],h=0;h<80;h++){if(h<16)v[h]=n[u+h]|0;else{var y=v[h-3]^v[h-8]^v[h-14]^v[h-16];v[h]=y<<1|y>>>31}var _=(c<<5|c>>>27)+w+v[h];h<20?_+=(l&p|~l&g)+1518500249:h<40?_+=(l^p^g)+1859775393:h<60?_+=(l&p|l&g|p&g)-1894007588:_+=(l^p^g)-899497514,w=g,g=p,p=l<<30|l>>>2,l=c,c=_}i[0]=i[0]+c|0,i[1]=i[1]+l|0,i[2]=i[2]+p|0,i[3]=i[3]+g|0,i[4]=i[4]+w|0},_doFinalize:function(){var n=this._data,u=n.words,i=this._nDataBytes*8,c=n.sigBytes*8;return u[c>>>5]|=128<<24-c%32,u[(c+64>>>9<<4)+14]=Math.floor(i/4294967296),u[(c+64>>>9<<4)+15]=i,n.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var n=d.clone.call(this);return n._hash=this._hash.clone(),n}});r.SHA1=d._createHelper(t),r.HmacSHA1=d._createHmacHelper(t)}(),e.SHA1})}(lr)),lr.exports}var hr={exports:{}},Ae;function yt(){return Ae||(Ae=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){return function(r){var s=e,x=s.lib,d=x.WordArray,f=x.Hasher,v=s.algo,t=[],n=[];(function(){function c(w){for(var h=r.sqrt(w),y=2;y<=h;y++)if(!(w%y))return!1;return!0}function l(w){return(w-(w|0))*4294967296|0}for(var p=2,g=0;g<64;)c(p)&&(g<8&&(t[g]=l(r.pow(p,1/2))),n[g]=l(r.pow(p,1/3)),g++),p++})();var u=[],i=v.SHA256=f.extend({_doReset:function(){this._hash=new d.init(t.slice(0))},_doProcessBlock:function(c,l){for(var p=this._hash.words,g=p[0],w=p[1],h=p[2],y=p[3],_=p[4],m=p[5],C=p[6],A=p[7],b=0;b<64;b++){if(b<16)u[b]=c[l+b]|0;else{var z=u[b-15],B=(z<<25|z>>>7)^(z<<14|z>>>18)^z>>>3,k=u[b-2],S=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;u[b]=B+u[b-7]+S+u[b-16]}var F=_&m^~_&C,D=g&w^g&h^w&h,q=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),T=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),W=A+T+F+n[b]+u[b],O=q+D;A=C,C=m,m=_,_=y+W|0,y=h,h=w,w=g,g=W+O|0}p[0]=p[0]+g|0,p[1]=p[1]+w|0,p[2]=p[2]+h|0,p[3]=p[3]+y|0,p[4]=p[4]+_|0,p[5]=p[5]+m|0,p[6]=p[6]+C|0,p[7]=p[7]+A|0},_doFinalize:function(){var c=this._data,l=c.words,p=this._nDataBytes*8,g=c.sigBytes*8;return l[g>>>5]|=128<<24-g%32,l[(g+64>>>9<<4)+14]=r.floor(p/4294967296),l[(g+64>>>9<<4)+15]=p,c.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var c=f.clone.call(this);return c._hash=this._hash.clone(),c}});s.SHA256=f._createHelper(i),s.HmacSHA256=f._createHmacHelper(i)}(Math),e.SHA256})}(hr)),hr.exports}var dr={exports:{}},Se;function vn(){return Se||(Se=1,function(o,a){(function(e,r,s){o.exports=r(M(),yt())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=r.algo,f=d.SHA256,v=d.SHA224=f.extend({_doReset:function(){this._hash=new x.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=f._doFinalize.call(this);return t.sigBytes-=4,t}});r.SHA224=f._createHelper(v),r.HmacSHA224=f._createHmacHelper(v)}(),e.SHA224})}(dr)),dr.exports}var pr={exports:{}},Ee;function _t(){return Ee||(Ee=1,function(o,a){(function(e,r,s){o.exports=r(M(),nr())})($,function(e){return function(){var r=e,s=r.lib,x=s.Hasher,d=r.x64,f=d.Word,v=d.WordArray,t=r.algo;function n(){return f.create.apply(f,arguments)}var u=[n(1116352408,3609767458),n(1899447441,602891725),n(3049323471,3964484399),n(3921009573,2173295548),n(961987163,4081628472),n(1508970993,3053834265),n(2453635748,2937671579),n(2870763221,3664609560),n(3624381080,2734883394),n(310598401,1164996542),n(607225278,1323610764),n(1426881987,3590304994),n(1925078388,4068182383),n(2162078206,991336113),n(2614888103,633803317),n(3248222580,3479774868),n(3835390401,2666613458),n(4022224774,944711139),n(264347078,2341262773),n(604807628,2007800933),n(770255983,1495990901),n(1249150122,1856431235),n(1555081692,3175218132),n(1996064986,2198950837),n(2554220882,3999719339),n(2821834349,766784016),n(2952996808,2566594879),n(3210313671,3203337956),n(3336571891,1034457026),n(3584528711,2466948901),n(113926993,3758326383),n(338241895,168717936),n(666307205,1188179964),n(773529912,1546045734),n(1294757372,1522805485),n(1396182291,2643833823),n(1695183700,2343527390),n(1986661051,1014477480),n(2177026350,1206759142),n(2456956037,344077627),n(2730485921,1290863460),n(2820302411,3158454273),n(3259730800,3505952657),n(3345764771,106217008),n(3516065817,3606008344),n(3600352804,1432725776),n(4094571909,1467031594),n(275423344,851169720),n(430227734,3100823752),n(506948616,1363258195),n(659060556,3750685593),n(883997877,3785050280),n(958139571,3318307427),n(1322822218,3812723403),n(1537002063,2003034995),n(1747873779,3602036899),n(1955562222,1575990012),n(2024104815,1125592928),n(2227730452,2716904306),n(2361852424,442776044),n(2428436474,593698344),n(2756734187,3733110249),n(3204031479,2999351573),n(3329325298,3815920427),n(3391569614,3928383900),n(3515267271,566280711),n(3940187606,3454069534),n(4118630271,4000239992),n(116418474,1914138554),n(174292421,2731055270),n(289380356,3203993006),n(460393269,320620315),n(685471733,587496836),n(852142971,1086792851),n(1017036298,365543100),n(1126000580,2618297676),n(1288033470,3409855158),n(1501505948,4234509866),n(1607167915,987167468),n(1816402316,1246189591)],i=[];(function(){for(var l=0;l<80;l++)i[l]=n()})();var c=t.SHA512=x.extend({_doReset:function(){this._hash=new v.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(l,p){for(var g=this._hash.words,w=g[0],h=g[1],y=g[2],_=g[3],m=g[4],C=g[5],A=g[6],b=g[7],z=w.high,B=w.low,k=h.high,S=h.low,F=y.high,D=y.low,q=_.high,T=_.low,W=m.high,O=m.low,U=C.high,N=C.low,E=A.high,P=A.low,R=b.high,H=b.low,I=z,j=B,G=k,L=S,_0=F,v0=D,b0=q,d0=T,i0=W,Y=O,M0=U,T0=N,j0=E,W0=P,ar=R,L0=H,s0=0;s0<80;s0++){var n0,p0,K0=i[s0];if(s0<16)p0=K0.high=l[p+s0*2]|0,n0=K0.low=l[p+s0*2+1]|0;else{var re=i[s0-15],C0=re.high,O0=re.low,Bt=(C0>>>1|O0<<31)^(C0>>>8|O0<<24)^C0>>>7,ee=(O0>>>1|C0<<31)^(O0>>>8|C0<<24)^(O0>>>7|C0<<25),te=i[s0-2],m0=te.high,I0=te.low,wt=(m0>>>19|I0<<13)^(m0<<3|I0>>>29)^m0>>>6,ne=(I0>>>19|m0<<13)^(I0<<3|m0>>>29)^(I0>>>6|m0<<26),ae=i[s0-7],bt=ae.high,Ct=ae.low,oe=i[s0-16],mt=oe.high,ie=oe.low;n0=ee+Ct,p0=Bt+bt+(n0>>>0<ee>>>0?1:0),n0=n0+ne,p0=p0+wt+(n0>>>0<ne>>>0?1:0),n0=n0+ie,p0=p0+mt+(n0>>>0<ie>>>0?1:0),K0.high=p0,K0.low=n0}var kt=i0&M0^~i0&j0,se=Y&T0^~Y&W0,At=I&G^I&_0^G&_0,St=j&L^j&v0^L&v0,Et=(I>>>28|j<<4)^(I<<30|j>>>2)^(I<<25|j>>>7),fe=(j>>>28|I<<4)^(j<<30|I>>>2)^(j<<25|I>>>7),Ft=(i0>>>14|Y<<18)^(i0>>>18|Y<<14)^(i0<<23|Y>>>9),Ht=(Y>>>14|i0<<18)^(Y>>>18|i0<<14)^(Y<<23|i0>>>9),xe=u[s0],Pt=xe.high,ce=xe.low,t0=L0+Ht,g0=ar+Ft+(t0>>>0<L0>>>0?1:0),t0=t0+se,g0=g0+kt+(t0>>>0<se>>>0?1:0),t0=t0+ce,g0=g0+Pt+(t0>>>0<ce>>>0?1:0),t0=t0+n0,g0=g0+p0+(t0>>>0<n0>>>0?1:0),ue=fe+St,zt=Et+At+(ue>>>0<fe>>>0?1:0);ar=j0,L0=W0,j0=M0,W0=T0,M0=i0,T0=Y,Y=d0+t0|0,i0=b0+g0+(Y>>>0<d0>>>0?1:0)|0,b0=_0,d0=v0,_0=G,v0=L,G=I,L=j,j=t0+ue|0,I=g0+zt+(j>>>0<t0>>>0?1:0)|0}B=w.low=B+j,w.high=z+I+(B>>>0<j>>>0?1:0),S=h.low=S+L,h.high=k+G+(S>>>0<L>>>0?1:0),D=y.low=D+v0,y.high=F+_0+(D>>>0<v0>>>0?1:0),T=_.low=T+d0,_.high=q+b0+(T>>>0<d0>>>0?1:0),O=m.low=O+Y,m.high=W+i0+(O>>>0<Y>>>0?1:0),N=C.low=N+T0,C.high=U+M0+(N>>>0<T0>>>0?1:0),P=A.low=P+W0,A.high=E+j0+(P>>>0<W0>>>0?1:0),H=b.low=H+L0,b.high=R+ar+(H>>>0<L0>>>0?1:0)},_doFinalize:function(){var l=this._data,p=l.words,g=this._nDataBytes*8,w=l.sigBytes*8;p[w>>>5]|=128<<24-w%32,p[(w+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(w+128>>>10<<5)+31]=g,l.sigBytes=p.length*4,this._process();var h=this._hash.toX32();return h},clone:function(){var l=x.clone.call(this);return l._hash=this._hash.clone(),l},blockSize:1024/32});r.SHA512=x._createHelper(c),r.HmacSHA512=x._createHmacHelper(c)}(),e.SHA512})}(pr)),pr.exports}var gr={exports:{}},Fe;function ln(){return Fe||(Fe=1,function(o,a){(function(e,r,s){o.exports=r(M(),nr(),_t())})($,function(e){return function(){var r=e,s=r.x64,x=s.Word,d=s.WordArray,f=r.algo,v=f.SHA512,t=f.SHA384=v.extend({_doReset:function(){this._hash=new d.init([new x.init(3418070365,3238371032),new x.init(1654270250,914150663),new x.init(2438529370,812702999),new x.init(355462360,4144912697),new x.init(1731405415,4290775857),new x.init(2394180231,1750603025),new x.init(3675008525,1694076839),new x.init(1203062813,3204075428)])},_doFinalize:function(){var n=v._doFinalize.call(this);return n.sigBytes-=16,n}});r.SHA384=v._createHelper(t),r.HmacSHA384=v._createHmacHelper(t)}(),e.SHA384})}(gr)),gr.exports}var yr={exports:{}},He;function hn(){return He||(He=1,function(o,a){(function(e,r,s){o.exports=r(M(),nr())})($,function(e){return function(r){var s=e,x=s.lib,d=x.WordArray,f=x.Hasher,v=s.x64,t=v.Word,n=s.algo,u=[],i=[],c=[];(function(){for(var g=1,w=0,h=0;h<24;h++){u[g+5*w]=(h+1)*(h+2)/2%64;var y=w%5,_=(2*g+3*w)%5;g=y,w=_}for(var g=0;g<5;g++)for(var w=0;w<5;w++)i[g+5*w]=w+(2*g+3*w)%5*5;for(var m=1,C=0;C<24;C++){for(var A=0,b=0,z=0;z<7;z++){if(m&1){var B=(1<<z)-1;B<32?b^=1<<B:A^=1<<B-32}m&128?m=m<<1^113:m<<=1}c[C]=t.create(A,b)}})();var l=[];(function(){for(var g=0;g<25;g++)l[g]=t.create()})();var p=n.SHA3=f.extend({cfg:f.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],w=0;w<25;w++)g[w]=new t.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,w){for(var h=this._state,y=this.blockSize/2,_=0;_<y;_++){var m=g[w+2*_],C=g[w+2*_+1];m=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360;var A=h[_];A.high^=C,A.low^=m}for(var b=0;b<24;b++){for(var z=0;z<5;z++){for(var B=0,k=0,S=0;S<5;S++){var A=h[z+5*S];B^=A.high,k^=A.low}var F=l[z];F.high=B,F.low=k}for(var z=0;z<5;z++)for(var D=l[(z+4)%5],q=l[(z+1)%5],T=q.high,W=q.low,B=D.high^(T<<1|W>>>31),k=D.low^(W<<1|T>>>31),S=0;S<5;S++){var A=h[z+5*S];A.high^=B,A.low^=k}for(var O=1;O<25;O++){var B,k,A=h[O],U=A.high,N=A.low,E=u[O];E<32?(B=U<<E|N>>>32-E,k=N<<E|U>>>32-E):(B=N<<E-32|U>>>64-E,k=U<<E-32|N>>>64-E);var P=l[i[O]];P.high=B,P.low=k}var R=l[0],H=h[0];R.high=H.high,R.low=H.low;for(var z=0;z<5;z++)for(var S=0;S<5;S++){var O=z+5*S,A=h[O],I=l[O],j=l[(z+1)%5+5*S],G=l[(z+2)%5+5*S];A.high=I.high^~j.high&G.high,A.low=I.low^~j.low&G.low}var A=h[0],L=c[b];A.high^=L.high,A.low^=L.low}},_doFinalize:function(){var g=this._data,w=g.words;this._nDataBytes*8;var h=g.sigBytes*8,y=this.blockSize*32;w[h>>>5]|=1<<24-h%32,w[(r.ceil((h+1)/y)*y>>>5)-1]|=128,g.sigBytes=w.length*4,this._process();for(var _=this._state,m=this.cfg.outputLength/8,C=m/8,A=[],b=0;b<C;b++){var z=_[b],B=z.high,k=z.low;B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,A.push(k),A.push(B)}return new d.init(A,m)},clone:function(){for(var g=f.clone.call(this),w=g._state=this._state.slice(0),h=0;h<25;h++)w[h]=w[h].clone();return g}});s.SHA3=f._createHelper(p),s.HmacSHA3=f._createHmacHelper(p)}(Math),e.SHA3})}(yr)),yr.exports}var _r={exports:{}},Pe;function dn(){return Pe||(Pe=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=e,x=s.lib,d=x.WordArray,f=x.Hasher,v=s.algo,t=d.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),n=d.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=d.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),i=d.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=d.create([0,1518500249,1859775393,2400959708,2840853838]),l=d.create([1352829926,1548603684,1836072691,2053994217,0]),p=v.RIPEMD160=f.extend({_doReset:function(){this._hash=d.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(C,A){for(var b=0;b<16;b++){var z=A+b,B=C[z];C[z]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}var k=this._hash.words,S=c.words,F=l.words,D=t.words,q=n.words,T=u.words,W=i.words,O,U,N,E,P,R,H,I,j,G;R=O=k[0],H=U=k[1],I=N=k[2],j=E=k[3],G=P=k[4];for(var L,b=0;b<80;b+=1)L=O+C[A+D[b]]|0,b<16?L+=g(U,N,E)+S[0]:b<32?L+=w(U,N,E)+S[1]:b<48?L+=h(U,N,E)+S[2]:b<64?L+=y(U,N,E)+S[3]:L+=_(U,N,E)+S[4],L=L|0,L=m(L,T[b]),L=L+P|0,O=P,P=E,E=m(N,10),N=U,U=L,L=R+C[A+q[b]]|0,b<16?L+=_(H,I,j)+F[0]:b<32?L+=y(H,I,j)+F[1]:b<48?L+=h(H,I,j)+F[2]:b<64?L+=w(H,I,j)+F[3]:L+=g(H,I,j)+F[4],L=L|0,L=m(L,W[b]),L=L+G|0,R=G,G=j,j=m(I,10),I=H,H=L;L=k[1]+N+j|0,k[1]=k[2]+E+G|0,k[2]=k[3]+P+R|0,k[3]=k[4]+O+H|0,k[4]=k[0]+U+I|0,k[0]=L},_doFinalize:function(){var C=this._data,A=C.words,b=this._nDataBytes*8,z=C.sigBytes*8;A[z>>>5]|=128<<24-z%32,A[(z+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,C.sigBytes=(A.length+1)*4,this._process();for(var B=this._hash,k=B.words,S=0;S<5;S++){var F=k[S];k[S]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return B},clone:function(){var C=f.clone.call(this);return C._hash=this._hash.clone(),C}});function g(C,A,b){return C^A^b}function w(C,A,b){return C&A|~C&b}function h(C,A,b){return(C|~A)^b}function y(C,A,b){return C&b|A&~b}function _(C,A,b){return C^(A|~b)}function m(C,A){return C<<A|C>>>32-A}s.RIPEMD160=f._createHelper(p),s.HmacRIPEMD160=f._createHmacHelper(p)}(),e.RIPEMD160})}(_r)),_r.exports}var Br={exports:{}},ze;function Jr(){return ze||(ze=1,function(o,a){(function(e,r){o.exports=r(M())})($,function(e){(function(){var r=e,s=r.lib,x=s.Base,d=r.enc,f=d.Utf8,v=r.algo;v.HMAC=x.extend({init:function(t,n){t=this._hasher=new t.init,typeof n=="string"&&(n=f.parse(n));var u=t.blockSize,i=u*4;n.sigBytes>i&&(n=t.finalize(n)),n.clamp();for(var c=this._oKey=n.clone(),l=this._iKey=n.clone(),p=c.words,g=l.words,w=0;w<u;w++)p[w]^=1549556828,g[w]^=909522486;c.sigBytes=l.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var n=this._hasher,u=n.finalize(t);n.reset();var i=n.finalize(this._oKey.clone().concat(u));return i}})})()})}(Br)),Br.exports}var wr={exports:{}},Re;function pn(){return Re||(Re=1,function(o,a){(function(e,r,s){o.exports=r(M(),Qr(),Jr())})($,function(e){return function(){var r=e,s=r.lib,x=s.Base,d=s.WordArray,f=r.algo,v=f.SHA1,t=f.HMAC,n=f.PBKDF2=x.extend({cfg:x.extend({keySize:128/32,hasher:v,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,i){for(var c=this.cfg,l=t.create(c.hasher,u),p=d.create(),g=d.create([1]),w=p.words,h=g.words,y=c.keySize,_=c.iterations;w.length<y;){var m=l.update(i).finalize(g);l.reset();for(var C=m.words,A=C.length,b=m,z=1;z<_;z++){b=l.finalize(b),l.reset();for(var B=b.words,k=0;k<A;k++)C[k]^=B[k]}p.concat(m),h[0]++}return p.sigBytes=y*4,p}});r.PBKDF2=function(u,i,c){return n.create(c).compute(u,i)}}(),e.PBKDF2})}(wr)),wr.exports}var br={exports:{}},De;function w0(){return De||(De=1,function(o,a){(function(e,r,s){o.exports=r(M(),Qr(),Jr())})($,function(e){return function(){var r=e,s=r.lib,x=s.Base,d=s.WordArray,f=r.algo,v=f.MD5,t=f.EvpKDF=x.extend({cfg:x.extend({keySize:128/32,hasher:v,iterations:1}),init:function(n){this.cfg=this.cfg.extend(n)},compute:function(n,u){for(var i,c=this.cfg,l=c.hasher.create(),p=d.create(),g=p.words,w=c.keySize,h=c.iterations;g.length<w;){i&&l.update(i),i=l.update(n).finalize(u),l.reset();for(var y=1;y<h;y++)i=l.finalize(i),l.reset();p.concat(i)}return p.sigBytes=w*4,p}});r.EvpKDF=function(n,u,i){return t.create(i).compute(n,u)}}(),e.EvpKDF})}(br)),br.exports}var Cr={exports:{}},qe;function J(){return qe||(qe=1,function(o,a){(function(e,r,s){o.exports=r(M(),w0())})($,function(e){e.lib.Cipher||function(r){var s=e,x=s.lib,d=x.Base,f=x.WordArray,v=x.BufferedBlockAlgorithm,t=s.enc;t.Utf8;var n=t.Base64,u=s.algo,i=u.EvpKDF,c=x.Cipher=v.extend({cfg:d.extend(),createEncryptor:function(B,k){return this.create(this._ENC_XFORM_MODE,B,k)},createDecryptor:function(B,k){return this.create(this._DEC_XFORM_MODE,B,k)},init:function(B,k,S){this.cfg=this.cfg.extend(S),this._xformMode=B,this._key=k,this.reset()},reset:function(){v.reset.call(this),this._doReset()},process:function(B){return this._append(B),this._process()},finalize:function(B){B&&this._append(B);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function B(k){return typeof k=="string"?z:C}return function(k){return{encrypt:function(S,F,D){return B(F).encrypt(k,S,F,D)},decrypt:function(S,F,D){return B(F).decrypt(k,S,F,D)}}}}()});x.StreamCipher=c.extend({_doFinalize:function(){var B=this._process(!0);return B},blockSize:1});var l=s.mode={},p=x.BlockCipherMode=d.extend({createEncryptor:function(B,k){return this.Encryptor.create(B,k)},createDecryptor:function(B,k){return this.Decryptor.create(B,k)},init:function(B,k){this._cipher=B,this._iv=k}}),g=l.CBC=function(){var B=p.extend();B.Encryptor=B.extend({processBlock:function(S,F){var D=this._cipher,q=D.blockSize;k.call(this,S,F,q),D.encryptBlock(S,F),this._prevBlock=S.slice(F,F+q)}}),B.Decryptor=B.extend({processBlock:function(S,F){var D=this._cipher,q=D.blockSize,T=S.slice(F,F+q);D.decryptBlock(S,F),k.call(this,S,F,q),this._prevBlock=T}});function k(S,F,D){var q,T=this._iv;T?(q=T,this._iv=r):q=this._prevBlock;for(var W=0;W<D;W++)S[F+W]^=q[W]}return B}(),w=s.pad={},h=w.Pkcs7={pad:function(B,k){for(var S=k*4,F=S-B.sigBytes%S,D=F<<24|F<<16|F<<8|F,q=[],T=0;T<F;T+=4)q.push(D);var W=f.create(q,F);B.concat(W)},unpad:function(B){var k=B.words[B.sigBytes-1>>>2]&255;B.sigBytes-=k}};x.BlockCipher=c.extend({cfg:c.cfg.extend({mode:g,padding:h}),reset:function(){var B;c.reset.call(this);var k=this.cfg,S=k.iv,F=k.mode;this._xformMode==this._ENC_XFORM_MODE?B=F.createEncryptor:(B=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==B?this._mode.init(this,S&&S.words):(this._mode=B.call(F,this,S&&S.words),this._mode.__creator=B)},_doProcessBlock:function(B,k){this._mode.processBlock(B,k)},_doFinalize:function(){var B,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),B=this._process(!0)):(B=this._process(!0),k.unpad(B)),B},blockSize:128/32});var y=x.CipherParams=d.extend({init:function(B){this.mixIn(B)},toString:function(B){return(B||this.formatter).stringify(this)}}),_=s.format={},m=_.OpenSSL={stringify:function(B){var k,S=B.ciphertext,F=B.salt;return F?k=f.create([1398893684,1701076831]).concat(F).concat(S):k=S,k.toString(n)},parse:function(B){var k,S=n.parse(B),F=S.words;return F[0]==1398893684&&F[1]==1701076831&&(k=f.create(F.slice(2,4)),F.splice(0,4),S.sigBytes-=16),y.create({ciphertext:S,salt:k})}},C=x.SerializableCipher=d.extend({cfg:d.extend({format:m}),encrypt:function(B,k,S,F){F=this.cfg.extend(F);var D=B.createEncryptor(S,F),q=D.finalize(k),T=D.cfg;return y.create({ciphertext:q,key:S,iv:T.iv,algorithm:B,mode:T.mode,padding:T.padding,blockSize:B.blockSize,formatter:F.format})},decrypt:function(B,k,S,F){F=this.cfg.extend(F),k=this._parse(k,F.format);var D=B.createDecryptor(S,F).finalize(k.ciphertext);return D},_parse:function(B,k){return typeof B=="string"?k.parse(B,this):B}}),A=s.kdf={},b=A.OpenSSL={execute:function(B,k,S,F){F||(F=f.random(64/8));var D=i.create({keySize:k+S}).compute(B,F),q=f.create(D.words.slice(k),S*4);return D.sigBytes=k*4,y.create({key:D,iv:q,salt:F})}},z=x.PasswordBasedCipher=C.extend({cfg:C.cfg.extend({kdf:b}),encrypt:function(B,k,S,F){F=this.cfg.extend(F);var D=F.kdf.execute(S,B.keySize,B.ivSize);F.iv=D.iv;var q=C.encrypt.call(this,B,k,D.key,F);return q.mixIn(D),q},decrypt:function(B,k,S,F){F=this.cfg.extend(F),k=this._parse(k,F.format);var D=F.kdf.execute(S,B.keySize,B.ivSize,k.salt);F.iv=D.iv;var q=C.decrypt.call(this,B,k,D.key,F);return q}})}()})}(Cr)),Cr.exports}var mr={exports:{}},Te;function gn(){return Te||(Te=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.mode.CFB=function(){var r=e.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(x,d){var f=this._cipher,v=f.blockSize;s.call(this,x,d,v,f),this._prevBlock=x.slice(d,d+v)}}),r.Decryptor=r.extend({processBlock:function(x,d){var f=this._cipher,v=f.blockSize,t=x.slice(d,d+v);s.call(this,x,d,v,f),this._prevBlock=t}});function s(x,d,f,v){var t,n=this._iv;n?(t=n.slice(0),this._iv=void 0):t=this._prevBlock,v.encryptBlock(t,0);for(var u=0;u<f;u++)x[d+u]^=t[u]}return r}(),e.mode.CFB})}(mr)),mr.exports}var kr={exports:{}},We;function yn(){return We||(We=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.mode.CTR=function(){var r=e.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(x,d){var f=this._cipher,v=f.blockSize,t=this._iv,n=this._counter;t&&(n=this._counter=t.slice(0),this._iv=void 0);var u=n.slice(0);f.encryptBlock(u,0),n[v-1]=n[v-1]+1|0;for(var i=0;i<v;i++)x[d+i]^=u[i]}});return r.Decryptor=s,r}(),e.mode.CTR})}(kr)),kr.exports}var Ar={exports:{}},Le;function _n(){return Le||(Le=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return e.mode.CTRGladman=function(){var r=e.lib.BlockCipherMode.extend();function s(f){if((f>>24&255)===255){var v=f>>16&255,t=f>>8&255,n=f&255;v===255?(v=0,t===255?(t=0,n===255?n=0:++n):++t):++v,f=0,f+=v<<16,f+=t<<8,f+=n}else f+=1<<24;return f}function x(f){return(f[0]=s(f[0]))===0&&(f[1]=s(f[1])),f}var d=r.Encryptor=r.extend({processBlock:function(f,v){var t=this._cipher,n=t.blockSize,u=this._iv,i=this._counter;u&&(i=this._counter=u.slice(0),this._iv=void 0),x(i);var c=i.slice(0);t.encryptBlock(c,0);for(var l=0;l<n;l++)f[v+l]^=c[l]}});return r.Decryptor=d,r}(),e.mode.CTRGladman})}(Ar)),Ar.exports}var Sr={exports:{}},Oe;function Bn(){return Oe||(Oe=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.mode.OFB=function(){var r=e.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(x,d){var f=this._cipher,v=f.blockSize,t=this._iv,n=this._keystream;t&&(n=this._keystream=t.slice(0),this._iv=void 0),f.encryptBlock(n,0);for(var u=0;u<v;u++)x[d+u]^=n[u]}});return r.Decryptor=s,r}(),e.mode.OFB})}(Sr)),Sr.exports}var Er={exports:{}},Ie;function wn(){return Ie||(Ie=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,x){this._cipher.encryptBlock(s,x)}}),r.Decryptor=r.extend({processBlock:function(s,x){this._cipher.decryptBlock(s,x)}}),r}(),e.mode.ECB})}(Er)),Er.exports}var Fr={exports:{}},Ue;function bn(){return Ue||(Ue=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.pad.AnsiX923={pad:function(r,s){var x=r.sigBytes,d=s*4,f=d-x%d,v=x+f-1;r.clamp(),r.words[v>>>2]|=f<<24-v%4*8,r.sigBytes+=f},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},e.pad.Ansix923})}(Fr)),Fr.exports}var Hr={exports:{}},Ne;function Cn(){return Ne||(Ne=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.pad.Iso10126={pad:function(r,s){var x=s*4,d=x-r.sigBytes%x;r.concat(e.lib.WordArray.random(d-1)).concat(e.lib.WordArray.create([d<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},e.pad.Iso10126})}(Hr)),Hr.exports}var Pr={exports:{}},$e;function mn(){return $e||($e=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.pad.Iso97971={pad:function(r,s){r.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(r,s)},unpad:function(r){e.pad.ZeroPadding.unpad(r),r.sigBytes--}},e.pad.Iso97971})}(Pr)),Pr.exports}var zr={exports:{}},Me;function kn(){return Me||(Me=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.pad.ZeroPadding={pad:function(r,s){var x=s*4;r.clamp(),r.sigBytes+=x-(r.sigBytes%x||x)},unpad:function(r){for(var s=r.words,x=r.sigBytes-1,x=r.sigBytes-1;x>=0;x--)if(s[x>>>2]>>>24-x%4*8&255){r.sigBytes=x+1;break}}},e.pad.ZeroPadding})}(zr)),zr.exports}var Rr={exports:{}},je;function An(){return je||(je=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(Rr)),Rr.exports}var Dr={exports:{}},Ke;function Sn(){return Ke||(Ke=1,function(o,a){(function(e,r,s){o.exports=r(M(),J())})($,function(e){return function(r){var s=e,x=s.lib,d=x.CipherParams,f=s.enc,v=f.Hex,t=s.format;t.Hex={stringify:function(n){return n.ciphertext.toString(v)},parse:function(n){var u=v.parse(n);return d.create({ciphertext:u})}}}(),e.format.Hex})}(Dr)),Dr.exports}var qr={exports:{}},Xe;function En(){return Xe||(Xe=1,function(o,a){(function(e,r,s){o.exports=r(M(),D0(),q0(),w0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.BlockCipher,d=r.algo,f=[],v=[],t=[],n=[],u=[],i=[],c=[],l=[],p=[],g=[];(function(){for(var y=[],_=0;_<256;_++)_<128?y[_]=_<<1:y[_]=_<<1^283;for(var m=0,C=0,_=0;_<256;_++){var A=C^C<<1^C<<2^C<<3^C<<4;A=A>>>8^A&255^99,f[m]=A,v[A]=m;var b=y[m],z=y[b],B=y[z],k=y[A]*257^A*16843008;t[m]=k<<24|k>>>8,n[m]=k<<16|k>>>16,u[m]=k<<8|k>>>24,i[m]=k;var k=B*16843009^z*65537^b*257^m*16843008;c[A]=k<<24|k>>>8,l[A]=k<<16|k>>>16,p[A]=k<<8|k>>>24,g[A]=k,m?(m=b^y[y[y[B^b]]],C^=y[y[C]]):m=C=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],h=d.AES=x.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,m=_.words,C=_.sigBytes/4,A=this._nRounds=C+6,b=(A+1)*4,z=this._keySchedule=[],B=0;B<b;B++)B<C?z[B]=m[B]:(y=z[B-1],B%C?C>6&&B%C==4&&(y=f[y>>>24]<<24|f[y>>>16&255]<<16|f[y>>>8&255]<<8|f[y&255]):(y=y<<8|y>>>24,y=f[y>>>24]<<24|f[y>>>16&255]<<16|f[y>>>8&255]<<8|f[y&255],y^=w[B/C|0]<<24),z[B]=z[B-C]^y);for(var k=this._invKeySchedule=[],S=0;S<b;S++){var B=b-S;if(S%4)var y=z[B];else var y=z[B-4];S<4||B<=4?k[S]=y:k[S]=c[f[y>>>24]]^l[f[y>>>16&255]]^p[f[y>>>8&255]]^g[f[y&255]]}}},encryptBlock:function(y,_){this._doCryptBlock(y,_,this._keySchedule,t,n,u,i,f)},decryptBlock:function(y,_){var m=y[_+1];y[_+1]=y[_+3],y[_+3]=m,this._doCryptBlock(y,_,this._invKeySchedule,c,l,p,g,v);var m=y[_+1];y[_+1]=y[_+3],y[_+3]=m},_doCryptBlock:function(y,_,m,C,A,b,z,B){for(var k=this._nRounds,S=y[_]^m[0],F=y[_+1]^m[1],D=y[_+2]^m[2],q=y[_+3]^m[3],T=4,W=1;W<k;W++){var O=C[S>>>24]^A[F>>>16&255]^b[D>>>8&255]^z[q&255]^m[T++],U=C[F>>>24]^A[D>>>16&255]^b[q>>>8&255]^z[S&255]^m[T++],N=C[D>>>24]^A[q>>>16&255]^b[S>>>8&255]^z[F&255]^m[T++],E=C[q>>>24]^A[S>>>16&255]^b[F>>>8&255]^z[D&255]^m[T++];S=O,F=U,D=N,q=E}var O=(B[S>>>24]<<24|B[F>>>16&255]<<16|B[D>>>8&255]<<8|B[q&255])^m[T++],U=(B[F>>>24]<<24|B[D>>>16&255]<<16|B[q>>>8&255]<<8|B[S&255])^m[T++],N=(B[D>>>24]<<24|B[q>>>16&255]<<16|B[S>>>8&255]<<8|B[F&255])^m[T++],E=(B[q>>>24]<<24|B[S>>>16&255]<<16|B[F>>>8&255]<<8|B[D&255])^m[T++];y[_]=O,y[_+1]=U,y[_+2]=N,y[_+3]=E},keySize:256/32});r.AES=x._createHelper(h)}(),e.AES})}(qr)),qr.exports}var Tr={exports:{}},Ze;function Fn(){return Ze||(Ze=1,function(o,a){(function(e,r,s){o.exports=r(M(),D0(),q0(),w0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.WordArray,d=s.BlockCipher,f=r.algo,v=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],t=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],n=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],i=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=f.DES=d.extend({_doReset:function(){for(var w=this._key,h=w.words,y=[],_=0;_<56;_++){var m=v[_]-1;y[_]=h[m>>>5]>>>31-m%32&1}for(var C=this._subKeys=[],A=0;A<16;A++){for(var b=C[A]=[],z=n[A],_=0;_<24;_++)b[_/6|0]|=y[(t[_]-1+z)%28]<<31-_%6,b[4+(_/6|0)]|=y[28+(t[_+24]-1+z)%28]<<31-_%6;b[0]=b[0]<<1|b[0]>>>31;for(var _=1;_<7;_++)b[_]=b[_]>>>(_-1)*4+3;b[7]=b[7]<<5|b[7]>>>27}for(var B=this._invSubKeys=[],_=0;_<16;_++)B[_]=C[15-_]},encryptBlock:function(w,h){this._doCryptBlock(w,h,this._subKeys)},decryptBlock:function(w,h){this._doCryptBlock(w,h,this._invSubKeys)},_doCryptBlock:function(w,h,y){this._lBlock=w[h],this._rBlock=w[h+1],l.call(this,4,252645135),l.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),l.call(this,1,1431655765);for(var _=0;_<16;_++){for(var m=y[_],C=this._lBlock,A=this._rBlock,b=0,z=0;z<8;z++)b|=u[z][((A^m[z])&i[z])>>>0];this._lBlock=A,this._rBlock=C^b}var B=this._lBlock;this._lBlock=this._rBlock,this._rBlock=B,l.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),w[h]=this._lBlock,w[h+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function l(w,h){var y=(this._lBlock>>>w^this._rBlock)&h;this._rBlock^=y,this._lBlock^=y<<w}function p(w,h){var y=(this._rBlock>>>w^this._lBlock)&h;this._lBlock^=y,this._rBlock^=y<<w}r.DES=d._createHelper(c);var g=f.TripleDES=d.extend({_doReset:function(){var w=this._key,h=w.words;if(h.length!==2&&h.length!==4&&h.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=h.slice(0,2),_=h.length<4?h.slice(0,2):h.slice(2,4),m=h.length<6?h.slice(0,2):h.slice(4,6);this._des1=c.createEncryptor(x.create(y)),this._des2=c.createEncryptor(x.create(_)),this._des3=c.createEncryptor(x.create(m))},encryptBlock:function(w,h){this._des1.encryptBlock(w,h),this._des2.decryptBlock(w,h),this._des3.encryptBlock(w,h)},decryptBlock:function(w,h){this._des3.decryptBlock(w,h),this._des2.encryptBlock(w,h),this._des1.decryptBlock(w,h)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=d._createHelper(g)}(),e.TripleDES})}(Tr)),Tr.exports}var Wr={exports:{}},Ge;function Hn(){return Ge||(Ge=1,function(o,a){(function(e,r,s){o.exports=r(M(),D0(),q0(),w0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.StreamCipher,d=r.algo,f=d.RC4=x.extend({_doReset:function(){for(var n=this._key,u=n.words,i=n.sigBytes,c=this._S=[],l=0;l<256;l++)c[l]=l;for(var l=0,p=0;l<256;l++){var g=l%i,w=u[g>>>2]>>>24-g%4*8&255;p=(p+c[l]+w)%256;var h=c[l];c[l]=c[p],c[p]=h}this._i=this._j=0},_doProcessBlock:function(n,u){n[u]^=v.call(this)},keySize:256/32,ivSize:0});function v(){for(var n=this._S,u=this._i,i=this._j,c=0,l=0;l<4;l++){u=(u+1)%256,i=(i+n[u])%256;var p=n[u];n[u]=n[i],n[i]=p,c|=n[(n[u]+n[i])%256]<<24-l*8}return this._i=u,this._j=i,c}r.RC4=x._createHelper(f);var t=d.RC4Drop=f.extend({cfg:f.cfg.extend({drop:192}),_doReset:function(){f._doReset.call(this);for(var n=this.cfg.drop;n>0;n--)v.call(this)}});r.RC4Drop=x._createHelper(t)}(),e.RC4})}(Wr)),Wr.exports}var Lr={exports:{}},Ve;function Pn(){return Ve||(Ve=1,function(o,a){(function(e,r,s){o.exports=r(M(),D0(),q0(),w0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.StreamCipher,d=r.algo,f=[],v=[],t=[],n=d.Rabbit=x.extend({_doReset:function(){for(var i=this._key.words,c=this.cfg.iv,l=0;l<4;l++)i[l]=(i[l]<<8|i[l]>>>24)&16711935|(i[l]<<24|i[l]>>>8)&4278255360;var p=this._X=[i[0],i[3]<<16|i[2]>>>16,i[1],i[0]<<16|i[3]>>>16,i[2],i[1]<<16|i[0]>>>16,i[3],i[2]<<16|i[1]>>>16],g=this._C=[i[2]<<16|i[2]>>>16,i[0]&4294901760|i[1]&65535,i[3]<<16|i[3]>>>16,i[1]&4294901760|i[2]&65535,i[0]<<16|i[0]>>>16,i[2]&4294901760|i[3]&65535,i[1]<<16|i[1]>>>16,i[3]&4294901760|i[0]&65535];this._b=0;for(var l=0;l<4;l++)u.call(this);for(var l=0;l<8;l++)g[l]^=p[l+4&7];if(c){var w=c.words,h=w[0],y=w[1],_=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,m=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=_>>>16|m&4294901760,A=m<<16|_&65535;g[0]^=_,g[1]^=C,g[2]^=m,g[3]^=A,g[4]^=_,g[5]^=C,g[6]^=m,g[7]^=A;for(var l=0;l<4;l++)u.call(this)}},_doProcessBlock:function(i,c){var l=this._X;u.call(this),f[0]=l[0]^l[5]>>>16^l[3]<<16,f[1]=l[2]^l[7]>>>16^l[5]<<16,f[2]=l[4]^l[1]>>>16^l[7]<<16,f[3]=l[6]^l[3]>>>16^l[1]<<16;for(var p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360,i[c+p]^=f[p]},blockSize:128/32,ivSize:64/32});function u(){for(var i=this._X,c=this._C,l=0;l<8;l++)v[l]=c[l];c[0]=c[0]+1295307597+this._b|0,c[1]=c[1]+3545052371+(c[0]>>>0<v[0]>>>0?1:0)|0,c[2]=c[2]+886263092+(c[1]>>>0<v[1]>>>0?1:0)|0,c[3]=c[3]+1295307597+(c[2]>>>0<v[2]>>>0?1:0)|0,c[4]=c[4]+3545052371+(c[3]>>>0<v[3]>>>0?1:0)|0,c[5]=c[5]+886263092+(c[4]>>>0<v[4]>>>0?1:0)|0,c[6]=c[6]+1295307597+(c[5]>>>0<v[5]>>>0?1:0)|0,c[7]=c[7]+3545052371+(c[6]>>>0<v[6]>>>0?1:0)|0,this._b=c[7]>>>0<v[7]>>>0?1:0;for(var l=0;l<8;l++){var p=i[l]+c[l],g=p&65535,w=p>>>16,h=((g*g>>>17)+g*w>>>15)+w*w,y=((p&4294901760)*p|0)+((p&65535)*p|0);t[l]=h^y}i[0]=t[0]+(t[7]<<16|t[7]>>>16)+(t[6]<<16|t[6]>>>16)|0,i[1]=t[1]+(t[0]<<8|t[0]>>>24)+t[7]|0,i[2]=t[2]+(t[1]<<16|t[1]>>>16)+(t[0]<<16|t[0]>>>16)|0,i[3]=t[3]+(t[2]<<8|t[2]>>>24)+t[1]|0,i[4]=t[4]+(t[3]<<16|t[3]>>>16)+(t[2]<<16|t[2]>>>16)|0,i[5]=t[5]+(t[4]<<8|t[4]>>>24)+t[3]|0,i[6]=t[6]+(t[5]<<16|t[5]>>>16)+(t[4]<<16|t[4]>>>16)|0,i[7]=t[7]+(t[6]<<8|t[6]>>>24)+t[5]|0}r.Rabbit=x._createHelper(n)}(),e.Rabbit})}(Lr)),Lr.exports}var Or={exports:{}},Ye;function zn(){return Ye||(Ye=1,function(o,a){(function(e,r,s){o.exports=r(M(),D0(),q0(),w0(),J())})($,function(e){return function(){var r=e,s=r.lib,x=s.StreamCipher,d=r.algo,f=[],v=[],t=[],n=d.RabbitLegacy=x.extend({_doReset:function(){var i=this._key.words,c=this.cfg.iv,l=this._X=[i[0],i[3]<<16|i[2]>>>16,i[1],i[0]<<16|i[3]>>>16,i[2],i[1]<<16|i[0]>>>16,i[3],i[2]<<16|i[1]>>>16],p=this._C=[i[2]<<16|i[2]>>>16,i[0]&4294901760|i[1]&65535,i[3]<<16|i[3]>>>16,i[1]&4294901760|i[2]&65535,i[0]<<16|i[0]>>>16,i[2]&4294901760|i[3]&65535,i[1]<<16|i[1]>>>16,i[3]&4294901760|i[0]&65535];this._b=0;for(var g=0;g<4;g++)u.call(this);for(var g=0;g<8;g++)p[g]^=l[g+4&7];if(c){var w=c.words,h=w[0],y=w[1],_=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,m=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=_>>>16|m&4294901760,A=m<<16|_&65535;p[0]^=_,p[1]^=C,p[2]^=m,p[3]^=A,p[4]^=_,p[5]^=C,p[6]^=m,p[7]^=A;for(var g=0;g<4;g++)u.call(this)}},_doProcessBlock:function(i,c){var l=this._X;u.call(this),f[0]=l[0]^l[5]>>>16^l[3]<<16,f[1]=l[2]^l[7]>>>16^l[5]<<16,f[2]=l[4]^l[1]>>>16^l[7]<<16,f[3]=l[6]^l[3]>>>16^l[1]<<16;for(var p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360,i[c+p]^=f[p]},blockSize:128/32,ivSize:64/32});function u(){for(var i=this._X,c=this._C,l=0;l<8;l++)v[l]=c[l];c[0]=c[0]+1295307597+this._b|0,c[1]=c[1]+3545052371+(c[0]>>>0<v[0]>>>0?1:0)|0,c[2]=c[2]+886263092+(c[1]>>>0<v[1]>>>0?1:0)|0,c[3]=c[3]+1295307597+(c[2]>>>0<v[2]>>>0?1:0)|0,c[4]=c[4]+3545052371+(c[3]>>>0<v[3]>>>0?1:0)|0,c[5]=c[5]+886263092+(c[4]>>>0<v[4]>>>0?1:0)|0,c[6]=c[6]+1295307597+(c[5]>>>0<v[5]>>>0?1:0)|0,c[7]=c[7]+3545052371+(c[6]>>>0<v[6]>>>0?1:0)|0,this._b=c[7]>>>0<v[7]>>>0?1:0;for(var l=0;l<8;l++){var p=i[l]+c[l],g=p&65535,w=p>>>16,h=((g*g>>>17)+g*w>>>15)+w*w,y=((p&4294901760)*p|0)+((p&65535)*p|0);t[l]=h^y}i[0]=t[0]+(t[7]<<16|t[7]>>>16)+(t[6]<<16|t[6]>>>16)|0,i[1]=t[1]+(t[0]<<8|t[0]>>>24)+t[7]|0,i[2]=t[2]+(t[1]<<16|t[1]>>>16)+(t[0]<<16|t[0]>>>16)|0,i[3]=t[3]+(t[2]<<8|t[2]>>>24)+t[1]|0,i[4]=t[4]+(t[3]<<16|t[3]>>>16)+(t[2]<<16|t[2]>>>16)|0,i[5]=t[5]+(t[4]<<8|t[4]>>>24)+t[3]|0,i[6]=t[6]+(t[5]<<16|t[5]>>>16)+(t[4]<<16|t[4]>>>16)|0,i[7]=t[7]+(t[6]<<8|t[6]>>>24)+t[5]|0}r.RabbitLegacy=x._createHelper(n)}(),e.RabbitLegacy})}(Or)),Or.exports}(function(o,a){(function(e,r,s){o.exports=r(M(),nr(),xn(),cn(),D0(),un(),q0(),Qr(),yt(),vn(),_t(),ln(),hn(),dn(),Jr(),pn(),w0(),J(),gn(),yn(),_n(),Bn(),wn(),bn(),Cn(),mn(),kn(),An(),Sn(),En(),Fn(),Hn(),Pn(),zn())})($,function(e){return e})})(S0);const Rn=(o,a)=>{try{const e=S0.exports.enc.Base64.parse(a),r=S0.exports.lib.WordArray.random(24),x={ciphertext:S0.exports.AES.encrypt(o,e,{iv:r}).ciphertext.toString(),iv:r.toString()},d=S0.exports.enc.Utf8.parse(JSON.stringify(x));return S0.exports.enc.Base64.stringify(d)}catch{throw new Error("encryption failed")}},Qe=(o,a)=>Rn(JSON.stringify(o),a),Ir={Image:1,Video:2,VideoFrame:3};class F0{constructor(a,e,r){K(this,"zipFileProvider");K(this,"vottFileProvider");K(this,"downloader");this.zipFileProvider=a,this.vottFileProvider=e,this.downloader=r}createNewAssetItem(a,e,r,s){const{type:x,name:d,timestamp:f,parent:v}=a,t=d.split("?")[0].split("#")[0],n=v?this.createNewAssetItem(v,e,r,s):void 0;if(x===Ir.Image||x===Ir.Video){const u=s?`${t}${s}`:t,i=`${e}${r}${u}`,c={...a,id:Kr.exports(i),name:d,path:i};return n&&(c.parent=n),c}if(x===Ir.VideoFrame){const i=`${s?`${t}${s}`:t}#t=${f}`,c=`${e}${r}${i}`,l={...a,id:Kr.exports(c),name:i,path:c};return n&&(l.parent=n),l}throw new l0(e0.InvalidAssetType)}mappingNewAssets(a,e){var v,t;const r={},{sourceConnection:s}=e,x=(()=>{if(s.azureBlobSetting){const{accountName:n,containerName:u}=s.azureBlobSetting;return`https://${n}.blob.core.windows.net/${u}`}if(s.localFileSetting)return`file:${s.localFileSetting.folderPath}`;throw new l0(e0.InvalidFileProvider)})(),f=/^[A-Z]:(¥[^¥ ]*[^¥])+$/g.test((t=(v=s.localFileSetting)==null?void 0:v.folderPath)!=null?t:"")?"\xA5":"/";return a.assets.forEach(n=>{var i;const{asset:u}=n;r[u.id]={...n,asset:this.createNewAssetItem(u,x,f,(i=s.azureBlobSetting)==null?void 0:i.sas)}}),r}static createConnection(a){if(a.localFileSetting)return a.localFileSetting;if(a.azureBlobSetting)return a.azureBlobSetting;throw new l0(e0.InvalidFileProvider)}static toFileProvider(a){return a.azureBlobSetting?"azureBlobStorage":"localFileSystemProxy"}updateProject(a,e,r){const{project:s}=a;s.assets={},Object.values(e).forEach(i=>{s.assets[i.asset.id]=i.asset}),s.lastVisitedAssetId=e[s.lastVisitedAssetId].asset.id;const{securityToken:x,sourceConnection:d,targetConnection:f}=r,v=F0.createConnection(d),t=F0.createConnection(f),n=Qe(v,x),u=Qe(t,x);return s.sourceConnection={providerType:F0.toFileProvider(d),providerOptions:{encrypted:n}},s.targetConnection={providerType:F0.toFileProvider(f),providerOptions:{encrypted:u}},{project:s,assets:Object.values(e)}}async saveAsync(a){const e=this.vottFileProvider.toFiles(a),r=await this.zipFileProvider.compress(e,"vott_migrated.zip").catch(()=>Promise.reject(new l0(e0.CompressionFailed)));return this.downloader.download(r)}async loadAsync(a){const e=await this.zipFileProvider.uncompress(a).catch(()=>Promise.reject(new l0(e0.InvalidZipFile)));return this.vottFileProvider.loads(e)}}class Dn{constructor(a){K(this,"vottProvider");this.vottProvider=a}async migrateProject(a,e){try{const r=await this.vottProvider.loadAsync(a),s=this.vottProvider.mappingNewAssets(r,e),x=this.vottProvider.updateProject(r,s,e);return await this.vottProvider.saveAsync(x)}catch(r){return Promise.reject(r)}}}const u0={Init:1,Loading:2,Error:3,Success:4},qn={loading:u0.Init,setting:{securityToken:"",sourceConnection:{},targetConnection:{}}};class Tn{constructor(a){K(this,"state");K(this,"usecase");K(this,"onUpdated");K(this,"currentState",()=>this.state);K(this,"updateLoading",(a,e)=>{this.state.loading=a,e&&(this.state.errorCode=e),this.dispatchUpdate()});K(this,"updateVottProjectSetting",a=>{this.state.setting=a,this.dispatchUpdate()});K(this,"updateVottFile",a=>{this.state.vottFile=a,this.dispatchUpdate()});K(this,"runConvertAsync",async()=>{const{setting:a,vottFile:e}=this.state;if(!e){this.updateLoading(u0.Error);return}this.updateLoading(u0.Loading);try{const{securityToken:r,sourceConnection:s,targetConnection:x}=a;if(!s||!x)return;const d={securityToken:r,sourceConnection:s,targetConnection:x};await this.usecase.migrateProject(e,d),this.updateLoading(u0.Success)}catch(r){r instanceof l0?this.updateLoading(u0.Error,r.errorCode):this.updateLoading(u0.Error)}});K(this,"addOnUpdated",a=>{this.onUpdated=a});this.state=qn,this.usecase=a}dispatchUpdate(){this.onUpdated&&this.onUpdated(this.state)}}const Je=o=>{if(/^https:\/\/[a-z0-9-]{3,64}.blob.core.windows.net\/[a-z0-9-]{3,64}\?.+$/g.test(o))try{const r=o.split("/")[2].split(".")[0],s=o.split("/")[3].split("?")[0],x=`?${o.split("/")[3].split("?")[1]}`;return{azureBlobSetting:{accountName:r,containerName:s,sas:x}}}catch{return{}}const a=/^(\/[^/ ]*[^/])+$/g.test(o),e=/^[A-Z]:(¥[^¥ ]*[^¥])+$/g.test(o);return a||e?{localFileSetting:{folderPath:o}}:{}};class Wn{constructor(a){K(this,"store");K(this,"findElement",a=>document.querySelector(`#${a}`));K(this,"readSettings",()=>{var d,f,v,t,n,u;const a=(f=(d=this.findElement("securityToken"))==null?void 0:d.value)!=null?f:"",e=(t=(v=this.findElement("sourceConnection"))==null?void 0:v.value)!=null?t:"",r=(u=(n=this.findElement("targetConnection"))==null?void 0:n.value)!=null?u:"",s=Je(e),x=Je(r);return{securityToken:a,sourceConnection:s,targetConnection:x}});K(this,"onFormValueChanged",()=>{const a=this.readSettings();this.store.updateVottProjectSetting(a)});K(this,"onSubmit",()=>{this.store.runConvertAsync()});var e,r,s,x;this.store=a,this.addFileSubmitEvent(),(e=this.findElement("securityToken"))==null||e.addEventListener("input",this.onFormValueChanged),(r=this.findElement("sourceConnection"))==null||r.addEventListener("input",this.onFormValueChanged),(s=this.findElement("targetConnection"))==null||s.addEventListener("input",this.onFormValueChanged),(x=this.findElement("submit"))==null||x.addEventListener("click",this.onSubmit)}addFileSubmitEvent(){const a=this.findElement("inputZip");if(!a)return;const e=r=>{var x;const s=(x=r.target)==null?void 0:x.files;!s||this.store.updateVottFile(s[0])};a.addEventListener("change",e),a.addEventListener("dragstart",e)}}class Ln{constructor(){K(this,"findElement",a=>document.querySelector(`#${a}`));K(this,"toggleSubmitButtonState",a=>{const{vottFile:e,setting:r}=a,s=this.findElement("submit");if(!s)return;const{targetConnection:x,sourceConnection:d,securityToken:f}=r,v=d.azureBlobSetting||d.localFileSetting,t=x.azureBlobSetting||x.localFileSetting,n=v&&t&&f.length>0&&e!==void 0;s.disabled=!n});K(this,"toErrorMessage",a=>{if(!a)return"";switch(a){case e0.InvalidZipFile:return"zip\u30D5\u30A1\u30A4\u30EB\u3067\u306A\u3044\u304B\u3001\u4E0D\u6B63\u306Azip\u30D5\u30A1\u30A4\u30EB\u3067\u3059";case e0.InvalidFileIncluded:return"*.vott, *-asset.json\u4EE5\u5916\u306E\u30D5\u30A1\u30A4\u30EB\u3092\u524A\u9664\u3057\u3066\u304F\u3060\u3055\u3044";case e0.JSONFormatError:return"*.vott\u304B*-asset.json\u30D5\u30A1\u30A4\u30EB\u306E\u30D5\u30A9\u30FC\u30DE\u30C3\u30C8\u304C\u4E0D\u6B63\u3067\u3059";case e0.InvalidFileProvider:return"\u30D5\u30A1\u30A4\u30EB\u30D7\u30ED\u30D0\u30A4\u30C0\u306F\u30ED\u30FC\u30AB\u30EB\u30D5\u30A1\u30A4\u30EB\u30B7\u30B9\u30C6\u30E0\u304BAzure Blob Storage\u306E\u307F\u5BFE\u5FDC\u3057\u3066\u3044\u307E\u3059";case e0.InvalidAssetType:return"\u672A\u5B9A\u7FA9\u306E\u30A2\u30BB\u30C3\u30C8\u7A2E\u5225\u304C\u3042\u308A\u307E\u3059";case e0.ProjectNotFound:return"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u30D5\u30A1\u30A4\u30EB\u304C\u3042\u308A\u307E\u305B\u3093";case e0.CompressionFailed:return"\u5909\u63DB\u7D50\u679C\u30D5\u30A1\u30A4\u30EB\u306E\u5727\u7E2E\u304C\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F";default:return"\u4E0D\u660E\u306A\u30A8\u30E9\u30FC\u3067\u3059"}});K(this,"showConnectionFileProvider",(a,e)=>{const r=this.findElement(a);if(!!r){if(e.azureBlobSetting){r.innerText="Azure Blob Storage";return}if(e.localFileSetting){r.innerText="\u30ED\u30FC\u30AB\u30EB\u30D5\u30A1\u30A4\u30EB\u30B7\u30B9\u30C6\u30E0";return}r.innerText=""}});K(this,"showLoadingState",a=>{const{loading:e,errorCode:r}=a,s=this.findElement("loadingState");if(!!s)switch(e){case u0.Init:s.innerText="";break;case u0.Loading:s.innerText="\u23F3";break;case u0.Success:s.innerText="\u2705";break;case u0.Error:s.innerText=`\u274C ${this.toErrorMessage(r)}`;break;default:s.innerText="\u2753";break}});K(this,"onStoreUpdated",a=>{this.toggleSubmitButtonState(a),this.showConnectionFileProvider("targetConnectionFileProvider",a.setting.targetConnection),this.showConnectionFileProvider("sourceConnectionFileProvider",a.setting.sourceConnection),this.showLoadingState(a)})}listenStoreUpdate(a){a.addOnUpdated(this.onStoreUpdated)}}class On{constructor(){const a=new rn,e=new E0,r=new qt,s=new F0(a,e,r),x=new Dn(s),d=new Tn(x);new Wn(d),new Ln().listenStoreUpdate(d)}}new On;
